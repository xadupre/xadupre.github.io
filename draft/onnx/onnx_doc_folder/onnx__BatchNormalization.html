
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>BatchNormalization &#8212; ONNX 1.12.0 documentation</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/onnx-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BatchNormalization - 14 vs 15" href="text_diff_BatchNormalization_14_15.html" />
    <link rel="prev" title="AveragePool - 1 vs 7" href="text_diff_AveragePool_1_7.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="auto">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fas fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/onnx-horizontal-color.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/onnx-horizontal-white.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/onnx/onnx" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
  </div>

  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/onnx/onnx" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
<nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
  </p><div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorial_python/index.html">
   Introduction to ONNX
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../onnx_python/index.html">
   API Reference
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   ONNX Operators
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../expect_onnxruntime.html">
     Sample operator test code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Abs.html">
     Abs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Acos.html">
     Acos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Acosh.html">
     Acosh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Add.html">
     Add
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__And.html">
     And
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ArgMax.html">
     ArgMax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ArgMin.html">
     ArgMin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Asin.html">
     Asin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Asinh.html">
     Asinh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Atan.html">
     Atan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Atanh.html">
     Atanh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__AttributeHasValue.html">
     AttributeHasValue
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__AveragePool.html">
     AveragePool
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="current reference internal" href="#">
     BatchNormalization
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_14_15.html">
       BatchNormalization - 14 vs 15
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_9_15.html">
       BatchNormalization - 9 vs 15
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_9_14.html">
       BatchNormalization - 9 vs 14
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_7_15.html">
       BatchNormalization - 7 vs 15
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_7_14.html">
       BatchNormalization - 7 vs 14
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_7_9.html">
       BatchNormalization - 7 vs 9
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_6_15.html">
       BatchNormalization - 6 vs 15
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_6_14.html">
       BatchNormalization - 6 vs 14
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_6_9.html">
       BatchNormalization - 6 vs 9
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_6_7.html">
       BatchNormalization - 6 vs 7
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_1_15.html">
       BatchNormalization - 1 vs 15
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_1_14.html">
       BatchNormalization - 1 vs 14
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_1_9.html">
       BatchNormalization - 1 vs 9
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_1_7.html">
       BatchNormalization - 1 vs 7
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="text_diff_BatchNormalization_1_6.html">
       BatchNormalization - 1 vs 6
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Bernoulli.html">
     Bernoulli
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__BitShift.html">
     BitShift
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__BlackmanWindow.html">
     BlackmanWindow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Cast.html">
     Cast
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__CastLike.html">
     CastLike
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Ceil.html">
     Ceil
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Celu.html">
     Celu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__CenterCropPad.html">
     CenterCropPad
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Clip.html">
     Clip
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Col2Im.html">
     Col2Im
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Compress.html">
     Compress
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Concat.html">
     Concat
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ConcatFromSequence.html">
     ConcatFromSequence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Constant.html">
     Constant
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ConstantOfShape.html">
     ConstantOfShape
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Conv.html">
     Conv
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ConvInteger.html">
     ConvInteger
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ConvTranspose.html">
     ConvTranspose
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Cos.html">
     Cos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Cosh.html">
     Cosh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__CumSum.html">
     CumSum
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__DFT.html">
     DFT
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__DepthToSpace.html">
     DepthToSpace
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__DequantizeLinear.html">
     DequantizeLinear
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Det.html">
     Det
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Div.html">
     Div
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Dropout.html">
     Dropout
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__DynamicQuantizeLinear.html">
     DynamicQuantizeLinear
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Einsum.html">
     Einsum
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Elu.html">
     Elu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Equal.html">
     Equal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Erf.html">
     Erf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Exp.html">
     Exp
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Expand.html">
     Expand
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__EyeLike.html">
     EyeLike
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Flatten.html">
     Flatten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Floor.html">
     Floor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GRU.html">
     GRU
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Gather.html">
     Gather
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GatherElements.html">
     GatherElements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GatherND.html">
     GatherND
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Gemm.html">
     Gemm
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GlobalAveragePool.html">
     GlobalAveragePool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GlobalLpPool.html">
     GlobalLpPool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GlobalMaxPool.html">
     GlobalMaxPool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Greater.html">
     Greater
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GreaterOrEqual.html">
     GreaterOrEqual
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__GridSample.html">
     GridSample
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__HammingWindow.html">
     HammingWindow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__HannWindow.html">
     HannWindow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__HardSigmoid.html">
     HardSigmoid
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__HardSwish.html">
     HardSwish
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Hardmax.html">
     Hardmax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Identity.html">
     Identity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__If.html">
     If
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__InstanceNormalization.html">
     InstanceNormalization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__IsInf.html">
     IsInf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__IsNaN.html">
     IsNaN
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LRN.html">
     LRN
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LSTM.html">
     LSTM
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LayerNormalization.html">
     LayerNormalization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LeakyRelu.html">
     LeakyRelu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Less.html">
     Less
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LessOrEqual.html">
     LessOrEqual
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Log.html">
     Log
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LogSoftmax.html">
     LogSoftmax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Loop.html">
     Loop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LpNormalization.html">
     LpNormalization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__LpPool.html">
     LpPool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MatMul.html">
     MatMul
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MatMulInteger.html">
     MatMulInteger
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Max.html">
     Max
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MaxPool.html">
     MaxPool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MaxRoiPool.html">
     MaxRoiPool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MaxUnpool.html">
     MaxUnpool
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Mean.html">
     Mean
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MeanVarianceNormalization.html">
     MeanVarianceNormalization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__MelWeightMatrix.html">
     MelWeightMatrix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Min.html">
     Min
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Mish.html">
     Mish
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Mod.html">
     Mod
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Mul.html">
     Mul
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Multinomial.html">
     Multinomial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Neg.html">
     Neg
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__NegativeLogLikelihoodLoss.html">
     NegativeLogLikelihoodLoss
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__NonMaxSuppression.html">
     NonMaxSuppression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__NonZero.html">
     NonZero
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Not.html">
     Not
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__OneHot.html">
     OneHot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Optional.html">
     Optional
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__OptionalGetElement.html">
     OptionalGetElement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__OptionalHasElement.html">
     OptionalHasElement
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Or.html">
     Or
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__PRelu.html">
     PRelu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Pad.html">
     Pad
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Pow.html">
     Pow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__QLinearConv.html">
     QLinearConv
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__QLinearMatMul.html">
     QLinearMatMul
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__QuantizeLinear.html">
     QuantizeLinear
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RNN.html">
     RNN
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RandomNormal.html">
     RandomNormal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RandomNormalLike.html">
     RandomNormalLike
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RandomUniform.html">
     RandomUniform
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RandomUniformLike.html">
     RandomUniformLike
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Range.html">
     Range
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Reciprocal.html">
     Reciprocal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceL1.html">
     ReduceL1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceL2.html">
     ReduceL2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceLogSum.html">
     ReduceLogSum
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceLogSumExp.html">
     ReduceLogSumExp
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceMax.html">
     ReduceMax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceMean.html">
     ReduceMean
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceMin.html">
     ReduceMin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceProd.html">
     ReduceProd
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceSum.html">
     ReduceSum
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReduceSumSquare.html">
     ReduceSumSquare
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Relu.html">
     Relu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Reshape.html">
     Reshape
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Resize.html">
     Resize
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ReverseSequence.html">
     ReverseSequence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__RoiAlign.html">
     RoiAlign
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Round.html">
     Round
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__STFT.html">
     STFT
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Scan.html">
     Scan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Scatter.html">
     Scatter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ScatterElements.html">
     ScatterElements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ScatterND.html">
     ScatterND
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Selu.html">
     Selu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceAt.html">
     SequenceAt
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceConstruct.html">
     SequenceConstruct
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceEmpty.html">
     SequenceEmpty
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceErase.html">
     SequenceErase
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceInsert.html">
     SequenceInsert
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceLength.html">
     SequenceLength
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SequenceMap.html">
     SequenceMap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Shape.html">
     Shape
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Shrink.html">
     Shrink
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sigmoid.html">
     Sigmoid
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sign.html">
     Sign
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sin.html">
     Sin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sinh.html">
     Sinh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Size.html">
     Size
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Slice.html">
     Slice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Softmax.html">
     Softmax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SoftmaxCrossEntropyLoss.html">
     SoftmaxCrossEntropyLoss
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Softplus.html">
     Softplus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Softsign.html">
     Softsign
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SpaceToDepth.html">
     SpaceToDepth
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Split.html">
     Split
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__SplitToSequence.html">
     SplitToSequence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sqrt.html">
     Sqrt
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Squeeze.html">
     Squeeze
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__StringNormalizer.html">
     StringNormalizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sub.html">
     Sub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Sum.html">
     Sum
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Tan.html">
     Tan
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Tanh.html">
     Tanh
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__TfIdfVectorizer.html">
     TfIdfVectorizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__ThresholdedRelu.html">
     ThresholdedRelu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Tile.html">
     Tile
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__TopK.html">
     TopK
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Transpose.html">
     Transpose
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Trilu.html">
     Trilu
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Unique.html">
     Unique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Unsqueeze.html">
     Unsqueeze
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Upsample.html">
     Upsample
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Where.html">
     Where
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx__Xor.html">
     Xor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_ArrayFeatureExtractor.html">
     ai.onnx.ml - ArrayFeatureExtractor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_Binarizer.html">
     ai.onnx.ml - Binarizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_CastMap.html">
     ai.onnx.ml - CastMap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_CategoryMapper.html">
     ai.onnx.ml - CategoryMapper
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_DictVectorizer.html">
     ai.onnx.ml - DictVectorizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_FeatureVectorizer.html">
     ai.onnx.ml - FeatureVectorizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_Imputer.html">
     ai.onnx.ml - Imputer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_LabelEncoder.html">
     ai.onnx.ml - LabelEncoder
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_LinearClassifier.html">
     ai.onnx.ml - LinearClassifier
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_LinearRegressor.html">
     ai.onnx.ml - LinearRegressor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_Normalizer.html">
     ai.onnx.ml - Normalizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_OneHotEncoder.html">
     ai.onnx.ml - OneHotEncoder
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_SVMClassifier.html">
     ai.onnx.ml - SVMClassifier
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_SVMRegressor.html">
     ai.onnx.ml - SVMRegressor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_Scaler.html">
     ai.onnx.ml - Scaler
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_TreeEnsembleClassifier.html">
     ai.onnx.ml - TreeEnsembleClassifier
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_TreeEnsembleRegressor.html">
     ai.onnx.ml - TreeEnsembleRegressor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxml_ZipMap.html">
     ai.onnx.ml - ZipMap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxpreviewtraining_Adagrad.html">
     ai.onnx.preview.training - Adagrad
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxpreviewtraining_Adam.html">
     ai.onnx.preview.training - Adam
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxpreviewtraining_Gradient.html">
     ai.onnx.preview.training - Gradient
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="onnx_aionnxpreviewtraining_Momentum.html">
     ai.onnx.preview.training - Momentum
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="batchnormalization">
<span id="l-onnx-doc-batchnormalization"></span><h1>BatchNormalization<a class="headerlink" href="#batchnormalization" title="Permalink to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#batchnormalization-15" id="id9">BatchNormalization - 15</a></p></li>
<li><p><a class="reference internal" href="#batchnormalization-14" id="id10">BatchNormalization - 14</a></p></li>
<li><p><a class="reference internal" href="#batchnormalization-9" id="id11">BatchNormalization - 9</a></p></li>
<li><p><a class="reference internal" href="#batchnormalization-7" id="id12">BatchNormalization - 7</a></p></li>
<li><p><a class="reference internal" href="#batchnormalization-6" id="id13">BatchNormalization - 6</a></p></li>
<li><p><a class="reference internal" href="#batchnormalization-1" id="id14">BatchNormalization - 1</a></p></li>
</ul>
</nav>
<section id="batchnormalization-15">
<span id="l-onnx-op-batchnormalization-15"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">BatchNormalization - 15</a><a class="headerlink" href="#batchnormalization-15" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>15</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: True</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 15</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
There are five required inputs ‘X’, ‘scale’, ‘B’, ‘input_mean’ and
‘input_var’.
Note that ‘input_mean’ and ‘input_var’ are expected to be the estimated
statistics in inference mode (training_mode=False, default),
and the running statistics in training mode (training_mode=True).
There are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, running_mean, running_var (training_mode=True)
Output case #2: Y (training_mode=False)</p>
<p>When training_mode=False, extra outputs are invalid.
The outputs are updated as follows when training_mode=True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">running_mean</span> <span class="o">=</span> <span class="n">input_mean</span> <span class="o">*</span> <span class="n">momentum</span> <span class="o">+</span> <span class="n">current_mean</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">momentum</span><span class="p">)</span>
<span class="n">running_var</span> <span class="o">=</span> <span class="n">input_var</span> <span class="o">*</span> <span class="n">momentum</span> <span class="o">+</span> <span class="n">current_var</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">momentum</span><span class="p">)</span>

<span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">current_mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">current_var</span> <span class="o">+</span> <span class="n">epsilon</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">B</span>

<span class="n">where</span><span class="p">:</span>

<span class="n">current_mean</span> <span class="o">=</span> <span class="n">ReduceMean</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">all_except_channel_index</span><span class="p">)</span>
<span class="n">current_var</span> <span class="o">=</span>  <span class="n">ReduceVar</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">all_except_channel_index</span><span class="p">)</span>

<span class="n">Notice</span> <span class="n">that</span> <span class="n">ReduceVar</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">the</span> <span class="n">population</span> <span class="n">variance</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">equals</span> <span class="n">to</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">sqrd</span><span class="p">(</span><span class="n">x_i</span> <span class="o">-</span> <span class="n">x_avg</span><span class="p">))</span> <span class="o">/</span> <span class="n">N</span>
<span class="n">where</span> <span class="n">N</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">population</span> <span class="n">size</span> <span class="p">(</span><span class="n">this</span> <span class="n">formula</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">use</span> <span class="n">sample</span> <span class="n">size</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>The computation of ReduceMean and ReduceVar uses float to avoid overflow for float16 inputs.</p>
<p>When training_mode=False:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">input_mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">input_var</span> <span class="o">+</span> <span class="n">epsilon</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">B</span>
</pre></div>
</div>
<p>For previous (depreciated) non-spatial cases, implementors are suggested
to flatten the input shape to (N x C * D1 * D2 * … * Dn) before a BatchNormalization Op.
This operator has <strong>optional</strong> inputs/outputs. See <a class="reference external" href="https://github.com/onnx/onnx/blob/master/docs/IR.md">ONNX</a> for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument’s name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.</p>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum).</p></li>
<li><p><strong>training_mode</strong>:
If set to true, it indicates BatchNormalization is being used for
training, and outputs 1, 2, 3, and 4 would be populated.</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
Input data tensor from the previous operator; dimensions are in the
form of (N x C x D1 x D2 … Dn), where N is the batch size, C is
the number of channels. Statistics are computed for every channel of
C over N and D1 to Dn dimensions. For image data, input dimensions
become (N x C x H x W). The op also accepts single dimension input
of size N in which case C is assumed to be 1</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T1</strong>:
Scale tensor of shape (C).</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T1</strong>:
Bias tensor of shape (C).</p></li>
<li><p><strong>input_mean</strong> (heterogeneous) - <strong>T2</strong>:
running (training) or estimated (testing) mean tensor of shape (C).</p></li>
<li><p><strong>input_var</strong> (heterogeneous) - <strong>T2</strong>:
running (training) or estimated (testing) variance tensor of shape
(C).</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 3 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output tensor of the same shape as X</p></li>
<li><p><strong>running_mean</strong> (optional, heterogeneous) - <strong>T2</strong>:
The running mean after the BatchNormalization operator.</p></li>
<li><p><strong>running_var</strong> (optional, heterogeneous) - <strong>T2</strong>:
The running variance after the BatchNormalization operator. This op
uses the population size (N) for calculating variance, and not the
sample size N-1.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(bfloat16),
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
<li><p><strong>T1</strong> in (
tensor(bfloat16),
tensor(double),
tensor(float),
tensor(float16)
):
Constrain scale and bias types to float tensors.</p></li>
<li><p><strong>T2</strong> in (
tensor(bfloat16),
tensor(double),
tensor(float),
tensor(float16)
):
Constrain mean and variance types to float tensors.</p></li>
</ul>
<p><strong>Examples</strong></p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_14_15.html">BatchNormalization - 14 vs 15</a></li>
</ul>
</div>
</section>
<section id="batchnormalization-14">
<span id="l-onnx-op-batchnormalization-14"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">BatchNormalization - 14</a><a class="headerlink" href="#batchnormalization-14" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>14</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: True</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 14</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
There are five required inputs ‘X’, ‘scale’, ‘B’, ‘input_mean’ and
‘input_var’.
Note that ‘input_mean’ and ‘input_var’ are expected to be the estimated
statistics in inference mode (training_mode=False, default),
and the running statistics in training mode (training_mode=True).
There are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, running_mean, running_var (training_mode=True)
Output case #2: Y (training_mode=False)</p>
<p>When training_mode=False, extra outputs are invalid.
The outputs are updated as follows when training_mode=True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">running_mean</span> <span class="o">=</span> <span class="n">input_mean</span> <span class="o">*</span> <span class="n">momentum</span> <span class="o">+</span> <span class="n">current_mean</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">momentum</span><span class="p">)</span>
<span class="n">running_var</span> <span class="o">=</span> <span class="n">input_var</span> <span class="o">*</span> <span class="n">momentum</span> <span class="o">+</span> <span class="n">current_var</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">momentum</span><span class="p">)</span>

<span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">current_mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">current_var</span> <span class="o">+</span> <span class="n">epsilon</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">B</span>

<span class="n">where</span><span class="p">:</span>

<span class="n">current_mean</span> <span class="o">=</span> <span class="n">ReduceMean</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">all_except_channel_index</span><span class="p">)</span>
<span class="n">current_var</span> <span class="o">=</span>  <span class="n">ReduceVar</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">all_except_channel_index</span><span class="p">)</span>

<span class="n">Notice</span> <span class="n">that</span> <span class="n">ReduceVar</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">the</span> <span class="n">population</span> <span class="n">variance</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">equals</span> <span class="n">to</span>
<span class="nb">sum</span><span class="p">(</span><span class="n">sqrd</span><span class="p">(</span><span class="n">x_i</span> <span class="o">-</span> <span class="n">x_avg</span><span class="p">))</span> <span class="o">/</span> <span class="n">N</span>
<span class="n">where</span> <span class="n">N</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">population</span> <span class="n">size</span> <span class="p">(</span><span class="n">this</span> <span class="n">formula</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">use</span> <span class="n">sample</span> <span class="n">size</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>When training_mode=False:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">input_mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">input_var</span> <span class="o">+</span> <span class="n">epsilon</span><span class="p">)</span> <span class="o">*</span> <span class="n">scale</span> <span class="o">+</span> <span class="n">B</span>
</pre></div>
</div>
<p>For previous (depreciated) non-spatial cases, implementors are suggested
to flatten the input shape to (N x C * D1 * D2 * … * Dn) before a BatchNormalization Op.
This operator has <strong>optional</strong> inputs/outputs. See <a class="reference external" href="https://github.com/onnx/onnx/blob/master/docs/IR.md">ONNX</a> for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument’s name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.</p>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum).</p></li>
<li><p><strong>training_mode</strong>:
If set to true, it indicates BatchNormalization is being used for
training, and outputs 1, 2, 3, and 4 would be populated.</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
Input data tensor from the previous operator; dimensions are in the
form of (N x C x D1 x D2 … Dn), where N is the batch size, C is
the number of channels. Statistics are computed for every channel of
C over N and D1 to Dn dimensions. For image data, input dimensions
become (N x C x H x W). The op also accepts single dimension input
of size N in which case C is assumed to be 1</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T</strong>:
Scale tensor of shape (C).</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T</strong>:
Bias tensor of shape (C).</p></li>
<li><p><strong>input_mean</strong> (heterogeneous) - <strong>U</strong>:
running (training) or estimated (testing) mean tensor of shape (C).</p></li>
<li><p><strong>input_var</strong> (heterogeneous) - <strong>U</strong>:
running (training) or estimated (testing) variance tensor of shape
(C).</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 3 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output tensor of the same shape as X</p></li>
<li><p><strong>running_mean</strong> (optional, heterogeneous) - <strong>U</strong>:
The running mean after the BatchNormalization operator.</p></li>
<li><p><strong>running_var</strong> (optional, heterogeneous) - <strong>U</strong>:
The running variance after the BatchNormalization operator. This op
uses the population size (N) for calculating variance, and not the
sample size N-1.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(bfloat16),
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
<li><p><strong>U</strong> in (
tensor(bfloat16),
tensor(double),
tensor(float),
tensor(float16)
):
Constrain mean and variance types to float tensors. It allows all
float type for U.</p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_9_15.html">BatchNormalization - 9 vs 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_9_14.html">BatchNormalization - 9 vs 14</a></li>
</ul>
</div>
</section>
<section id="batchnormalization-9">
<span id="l-onnx-op-batchnormalization-9"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">BatchNormalization - 9</a><a class="headerlink" href="#batchnormalization-9" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>9</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: True</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 9</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
there are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, mean, var, saved_mean, saved_var (training mode)
Output case #2: Y (test mode)</p>
<p>For previous (depreciated) non-spatial cases, implementors are suggested
to flatten the input shape to (N x C*D1*D2 ..*Dn) before a BatchNormalization Op.
This operator has <strong>optional</strong> inputs/outputs. See <a class="reference external" href="https://github.com/onnx/onnx/blob/master/docs/IR.md">ONNX</a> for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument’s name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.</p>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum).</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
Input data tensor from the previous operator; dimensions are in the
form of (N x C x D1 x D2 … Dn), where N is the batch size, C is
the number of channels. Statistics are computed for every channel of
C over N and D1 to Dn dimensions. For image data, input dimensions
become (N x C x H x W). The op also accepts single dimension input
of size N in which case C is assumed to be 1</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T</strong>:
Scale tensor of shape (C).</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T</strong>:
Bias tensor of shape (C).</p></li>
<li><p><strong>mean</strong> (heterogeneous) - <strong>T</strong>:
running (training) or estimated (testing) mean tensor of shape (C).</p></li>
<li><p><strong>var</strong> (heterogeneous) - <strong>T</strong>:
running (training) or estimated (testing) variance tensor of shape
(C).</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 5 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output tensor of the same shape as X</p></li>
<li><p><strong>mean</strong> (optional, heterogeneous) - <strong>T</strong>:
The running mean after the BatchNormalization operator.</p></li>
<li><p><strong>var</strong> (optional, heterogeneous) - <strong>T</strong>:
The running variance after the BatchNormalization operator.</p></li>
<li><p><strong>saved_mean</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved mean used during training to speed up gradient computation.</p></li>
<li><p><strong>saved_var</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved variance used during training to speed up gradient
computation.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_7_15.html">BatchNormalization - 7 vs 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_7_14.html">BatchNormalization - 7 vs 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_7_9.html">BatchNormalization - 7 vs 9</a></li>
</ul>
</div>
</section>
<section id="batchnormalization-7">
<span id="l-onnx-op-batchnormalization-7"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">BatchNormalization - 7</a><a class="headerlink" href="#batchnormalization-7" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>7</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: True</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 7</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
there are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, mean, var, saved_mean, saved_var (training mode)
Output case #2: Y (test mode)</p>
<blockquote>
<div><p>This operator has <strong>optional</strong> inputs/outputs. See <a class="reference external" href="https://github.com/onnx/onnx/blob/master/docs/IR.md">ONNX</a> for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument’s name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.</p>
</div></blockquote>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum).</p></li>
<li><p><strong>spatial</strong>:
If true, compute the mean and variance across per activation. If
false, compute the mean and variance across per feature over each
mini-batch.</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
Input data tensor from the previous operator; dimensions for image
case are (N x C x H x W), where N is the batch size, C is the number
of channels, and H and W are the height and the width of the data.
For non image case, the dimensions are in the form of (N x C x D1 x
D2 … Dn), where N is the batch size.</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T</strong>:
If spatial is true, the dimension of scale is (C). If spatial is
false, the dimensions of scale are (C x D1 x … x Dn)</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T</strong>:
If spatial is true, the dimension of bias is (C). If spatial is
false, the dimensions of bias are (C x D1 x … x Dn)</p></li>
<li><p><strong>mean</strong> (heterogeneous) - <strong>T</strong>:
If spatial is true, the dimension of the running mean (training) or
the estimated mean (testing) is (C). If spatial is false, the
dimensions of the running mean (training) or the estimated mean
(testing) are (C x D1 x … x Dn).</p></li>
<li><p><strong>var</strong> (heterogeneous) - <strong>T</strong>:
If spatial is true, the dimension of the running variance(training)
or the estimated variance (testing) is (C). If spatial is false, the
dimensions of the running variance(training) or the estimated
variance (testing) are (C x D1 x … x Dn).</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 5 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output tensor of the same shape as X</p></li>
<li><p><strong>mean</strong> (optional, heterogeneous) - <strong>T</strong>:
The running mean after the BatchNormalization operator.</p></li>
<li><p><strong>var</strong> (optional, heterogeneous) - <strong>T</strong>:
The running variance after the BatchNormalization operator.</p></li>
<li><p><strong>saved_mean</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved mean used during training to speed up gradient computation.</p></li>
<li><p><strong>saved_var</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved variance used during training to speed up gradient
computation.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_6_15.html">BatchNormalization - 6 vs 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_6_14.html">BatchNormalization - 6 vs 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_6_9.html">BatchNormalization - 6 vs 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_6_7.html">BatchNormalization - 6 vs 7</a></li>
</ul>
</div>
</section>
<section id="batchnormalization-6">
<span id="l-onnx-op-batchnormalization-6"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">BatchNormalization - 6</a><a class="headerlink" href="#batchnormalization-6" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>6</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: True</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 6</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
there are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, mean, var, saved_mean, saved_var (training mode)
Output case #2: Y (test mode)</p>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero, default is
1e-5f.</p></li>
<li><p><strong>is_test</strong>:
If set to nonzero, run spatial batch normalization in test mode,
default is 0.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum),
default is 0.9f.</p></li>
<li><p><strong>spatial</strong>:
If true, compute the mean and variance across all spatial elements
If false, compute the mean and variance across per feature.Default
is 1.</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
Input data tensor from the previous operator; dimensions for image
case are (N x C x H x W), where N is the batch size, C is the number
of channels, and H and W are the height and the width of the data.
For non image case, the dimensions are in the form of (N x C x D1 x
D2 … Dn), where N is the batch size.</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T</strong>:
The scale as a 1-dimensional tensor of size C to be applied to the
output.</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T</strong>:
The bias as a 1-dimensional tensor of size C to be applied to the
output.</p></li>
<li><p><strong>mean</strong> (heterogeneous) - <strong>T</strong>:
The running mean (training) or the estimated mean (testing) as a
1-dimensional tensor of size C.</p></li>
<li><p><strong>var</strong> (heterogeneous) - <strong>T</strong>:
The running variance (training) or the estimated variance (testing)
as a 1-dimensional tensor of size C.</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 5 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output tensor of the same shape as X.</p></li>
<li><p><strong>mean</strong> (optional, heterogeneous) - <strong>T</strong>:
The running mean after the BatchNormalization operator. Must be in-
place with the input mean. Should not be used for testing.</p></li>
<li><p><strong>var</strong> (optional, heterogeneous) - <strong>T</strong>:
The running variance after the BatchNormalization operator. Must be
in-place with the input var. Should not be used for testing.</p></li>
<li><p><strong>saved_mean</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved mean used during training to speed up gradient computation.
Should not be used for testing.</p></li>
<li><p><strong>saved_var</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved variance used during training to speed up gradient
computation. Should not be used for testing.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
</ul>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_1_15.html">BatchNormalization - 1 vs 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_1_14.html">BatchNormalization - 1 vs 14</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_1_9.html">BatchNormalization - 1 vs 9</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_1_7.html">BatchNormalization - 1 vs 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="text_diff_BatchNormalization_1_6.html">BatchNormalization - 1 vs 6</a></li>
</ul>
</div>
</section>
<section id="batchnormalization-1">
<span id="l-onnx-op-batchnormalization-1"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink">BatchNormalization - 1</a><a class="headerlink" href="#batchnormalization-1" title="Permalink to this heading">#</a></h2>
<p><strong>Version</strong></p>
<ul class="simple">
<li><p><strong>name</strong>: <a class="reference external" href="https://github.com/onnx/onnx/blob/main/docs/Operators.md#BatchNormalization">BatchNormalization (GitHub)</a></p></li>
<li><p><strong>domain</strong>: <strong>main</strong></p></li>
<li><p><strong>since_version</strong>: <strong>1</strong></p></li>
<li><p><strong>function</strong>: False</p></li>
<li><p><strong>support_level</strong>: SupportType.COMMON</p></li>
<li><p><strong>shape inference</strong>: False</p></li>
</ul>
<p>This version of the operator has been available
<strong>since version 1</strong>.</p>
<p><strong>Summary</strong></p>
<p>Carries out batch normalization as described in the paper
<a class="reference external" href="https://arxiv.org/abs/1502.03167">https://arxiv.org/abs/1502.03167</a>. Depending on the mode it is being run,
there are multiple cases for the number of outputs, which we list below:</p>
<p>Output case #1: Y, mean, var, saved_mean, saved_var (training mode)
Output case #2: Y (test mode)</p>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><p><strong>consumed_inputs</strong> (required):
legacy optimization attribute.</p></li>
<li><p><strong>epsilon</strong>:
The epsilon value to use to avoid division by zero, default is
1e-5f.</p></li>
<li><p><strong>is_test</strong>:
If set to nonzero, run spatial batch normalization in test mode,
default is 0.</p></li>
<li><p><strong>momentum</strong>:
Factor used in computing the running mean and variance.e.g.,
running_mean = running_mean * momentum + mean * (1 - momentum),
default is 0.9f.</p></li>
<li><p><strong>spatial</strong>:
If true, compute the mean and variance across all spatial elements
If false, compute the mean and variance across per feature.Default
is 1.</p></li>
</ul>
<p><strong>Inputs</strong></p>
<ul class="simple">
<li><p><strong>X</strong> (heterogeneous) - <strong>T</strong>:
The input 4-dimensional tensor of shape NCHW.</p></li>
<li><p><strong>scale</strong> (heterogeneous) - <strong>T</strong>:
The scale as a 1-dimensional tensor of size C to be applied to the
output.</p></li>
<li><p><strong>B</strong> (heterogeneous) - <strong>T</strong>:
The bias as a 1-dimensional tensor of size C to be applied to the
output.</p></li>
<li><p><strong>mean</strong> (heterogeneous) - <strong>T</strong>:
The running mean (training) or the estimated mean (testing) as a
1-dimensional tensor of size C.</p></li>
<li><p><strong>var</strong> (heterogeneous) - <strong>T</strong>:
The running variance (training) or the estimated variance (testing)
as a 1-dimensional tensor of size C.</p></li>
</ul>
<p><strong>Outputs</strong></p>
<p>Between 1 and 5 outputs.</p>
<ul class="simple">
<li><p><strong>Y</strong> (heterogeneous) - <strong>T</strong>:
The output 4-dimensional tensor of the same shape as X.</p></li>
<li><p><strong>mean</strong> (optional, heterogeneous) - <strong>T</strong>:
The running mean after the BatchNormalization operator. Must be in-
place with the input mean. Should not be used for testing.</p></li>
<li><p><strong>var</strong> (optional, heterogeneous) - <strong>T</strong>:
The running variance after the BatchNormalization operator. Must be
in-place with the input var. Should not be used for testing.</p></li>
<li><p><strong>saved_mean</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved mean used during training to speed up gradient computation.
Should not be used for testing.</p></li>
<li><p><strong>saved_var</strong> (optional, heterogeneous) - <strong>T</strong>:
Saved variance used during training to speed up gradient
computation. Should not be used for testing.</p></li>
</ul>
<p><strong>Type Constraints</strong></p>
<ul class="simple">
<li><p><strong>T</strong> in (
tensor(double),
tensor(float),
tensor(float16)
):
Constrain input and output types to float tensors.</p></li>
</ul>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="text_diff_AveragePool_1_7.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">AveragePool - 1 vs 7</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="text_diff_BatchNormalization_14_15.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">BatchNormalization - 14 vs 15</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.2.1.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>