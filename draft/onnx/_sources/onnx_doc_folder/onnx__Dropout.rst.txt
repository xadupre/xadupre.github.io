
.. _l-onnx-doc-Dropout:

=======
Dropout
=======

.. contents::
    :local:


.. _l-onnx-op-dropout-13:
Dropout - 13
============
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **13**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 13**.

**Summary**

Dropout takes an input floating-point tensor, an optional input ratio (floating-point scalar) and an optional input training_mode (boolean scalar). It produces two tensor outputs,
output (floating-point tensor) and mask (optional `Tensor<bool>`). If `training_mode` is true then the output Y will be a random dropout;
Note that this Dropout scales the masked input data by the following equation, so to convert the trained model into inference mode,
the user can simply not pass `training_mode` input or set it to false.
::

    output = scale * data * mask,

where
::

    scale = 1. / (1. - ratio).

This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**
* **seed**:
  (Optional) Seed to the random generator, if not specified we will
  auto generate one.

**Inputs**
Between 1 and 3 inputs.

* **data** (heterogeneous) - **T**:
  The input data as Tensor.
* **ratio** (optional, heterogeneous) - **T1**:
  The ratio of random dropout, with value in [0, 1). If this input was
  not set, or if it was set to 0, the output would be a simple copy of
  the input. If it's non-zero, output will be a random dropout of the
  scaled input, which is typically the case during training. It is an
  optional value, if not specified it will default to 0.5.
* **training_mode** (optional, heterogeneous) - **T2**:
  If set to true then it indicates dropout is being used for training.
  It is an optional value hence unless specified explicitly, it is
  false. If it is false, ratio is ignored and the operation mimics
  inference mode where nothing will be dropped from the input data and
  if mask is requested as output it will contain all ones.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T2**:
  The output mask.

**Type Constraints**
* **T** in (
  tensor(bfloat16),
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input 'ratio' types to float tensors.
* **T2** in (
  tensor(bool)
  ):
  Constrain output 'mask' types to boolean tensors.

**Examples**

**_default**
::
    seed = np.int64(0)
    node = onnx.helper.make_node("Dropout", inputs=["x"], outputs=["y"], seed=seed)

    x = np.random.randn(3, 4, 5).astype(np.float32)
    y = dropout(x)
    expect(node, inputs=[x], outputs=[y], name="test_dropout_default")

**_default_ratio**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r"], outputs=["y"], seed=seed
    )

    r = np.float32(0.1)
    x = np.random.randn(3, 4, 5).astype(np.float32)
    y = dropout(x, r)
    expect(node, inputs=[x, r], outputs=[y], name="test_dropout_default_ratio")

**_default_mask**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x"], outputs=["y", "z"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    y, z = dropout(x, return_mask=True)
    expect(node, inputs=[x], outputs=[y, z], name="test_dropout_default_mask")

**_default_mask_ratio**
::
        seed = np.int64(0)
        node = onnx.helper.make_node(
            "Dropout", inputs=["x", "r"], outputs=["y", "z"], seed=seed
        )

        r = np.float32(0.1)
        x = np.random.randn(3, 4, 5).astype(np.float32)
        y, z = dropout(x, r, return_mask=True)
        expect(
            node, inputs=[x, r], outputs=[y, z], name="test_dropout_default_mask_ratio"
        )

    # Training tests.

**_training_default**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r", "t"], outputs=["y"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    r = np.float32(0.5)
    t = np.bool_(True)
    y = dropout(x, r, training_mode=t)
    expect(
        node, inputs=[x, r, t], outputs=[y], name="test_training_dropout_default"
    )

**_training_default_ratio_mask**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r", "t"], outputs=["y", "z"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    r = np.float32(0.5)
    t = np.bool_(True)
    y, z = dropout(x, r, training_mode=t, return_mask=True)
    expect(
        node,
        inputs=[x, r, t],
        outputs=[y, z],
        name="test_training_dropout_default_mask",
    )

**_training**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r", "t"], outputs=["y"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    r = np.float32(0.75)
    t = np.bool_(True)
    y = dropout(x, r, training_mode=t)
    expect(node, inputs=[x, r, t], outputs=[y], name="test_training_dropout")

**_training_ratio_mask**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r", "t"], outputs=["y", "z"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    r = np.float32(0.75)
    t = np.bool_(True)
    y, z = dropout(x, r, training_mode=t, return_mask=True)
    expect(
        node, inputs=[x, r, t], outputs=[y, z], name="test_training_dropout_mask"
    )

**_training_default_zero_ratio**
::
    seed = np.int64(0)
    node = onnx.helper.make_node(
        "Dropout", inputs=["x", "r", "t"], outputs=["y"], seed=seed
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    r = np.float32(0.0)
    t = np.bool_(True)
    y = dropout(x, r, training_mode=t)
    expect(
        node, inputs=[x, r, t], outputs=[y], name="test_training_dropout_zero_ratio"
    )

**_training_default_zero_ratio_mask**
::
        seed = np.int64(0)
        node = onnx.helper.make_node(
            "Dropout", inputs=["x", "r", "t"], outputs=["y", "z"], seed=seed
        )

        x = np.random.randn(3, 4, 5).astype(np.float32)
        r = np.float32(0.0)
        t = np.bool_(True)
        y, z = dropout(x, r, training_mode=t, return_mask=True)
        expect(
            node,
            inputs=[x, r, t],
            outputs=[y, z],
            name="test_training_dropout_zero_ratio_mask",
        )

    # Old dropout tests

**_default_old**
::
    node = onnx.helper.make_node(
        "Dropout",
        inputs=["x"],
        outputs=["y"],
    )

    x = np.array([-1, 0, 1]).astype(np.float32)
    y = x
    expect(
        node,
        inputs=[x],
        outputs=[y],
        name="test_dropout_default_old",
        opset_imports=[helper.make_opsetid("", 11)],
    )

**_random_old**
::
    node = onnx.helper.make_node(
        "Dropout",
        inputs=["x"],
        outputs=["y"],
        ratio=0.2,
    )

    x = np.random.randn(3, 4, 5).astype(np.float32)
    y = x
    expect(
        node,
        inputs=[x],
        outputs=[y],
        name="test_dropout_random_old",
        opset_imports=[helper.make_opsetid("", 11)],
    )

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to48__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next"><a href="#difflib_chg_to48__0">f</a></td><td class="diff_header" id="from48_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;an&nbsp;input&nbsp;floating-point&nbsp;tensor,&nbsp;an&nbsp;optional&nbsp;input&nbsp;ratio&nbsp;(floating-point&nbsp;scalar)&nbsp;and&nbsp;an&nbsp;optional&nbsp;input&nbsp;training_mode&nbsp;(boolean&nbsp;scalar).&nbsp;It&nbsp;produces&nbsp;two&nbsp;tensor&nbsp;outputs,</td><td class="diff_next"><a href="#difflib_chg_to48__0">f</a></td><td class="diff_header" id="to48_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;an&nbsp;input&nbsp;floating-point&nbsp;tensor,&nbsp;an&nbsp;optional&nbsp;input&nbsp;ratio&nbsp;(floating-point&nbsp;scalar)&nbsp;and&nbsp;an&nbsp;optional&nbsp;input&nbsp;training_mode&nbsp;(boolean&nbsp;scalar).&nbsp;It&nbsp;produces&nbsp;two&nbsp;tensor&nbsp;outputs,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_2">2</td><td nowrap="nowrap">output&nbsp;(floating-point&nbsp;tensor)&nbsp;and&nbsp;mask&nbsp;(optional&nbsp;Tensor&lt;bool&gt;).&nbsp;If&nbsp;training_mode&nbsp;is&nbsp;true&nbsp;then&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout;</td><td class="diff_next"></td><td class="diff_header" id="to48_2">2</td><td nowrap="nowrap">output&nbsp;(floating-point&nbsp;tensor)&nbsp;and&nbsp;mask&nbsp;(optional&nbsp;Tensor&lt;bool&gt;).&nbsp;If&nbsp;training_mode&nbsp;is&nbsp;true&nbsp;then&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout;</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_3">3</td><td nowrap="nowrap">Note&nbsp;that&nbsp;this&nbsp;Dropout&nbsp;scales&nbsp;the&nbsp;masked&nbsp;input&nbsp;data&nbsp;by&nbsp;the&nbsp;following&nbsp;equation,&nbsp;so&nbsp;to&nbsp;convert&nbsp;the&nbsp;trained&nbsp;model&nbsp;into&nbsp;inference&nbsp;mode,</td><td class="diff_next"></td><td class="diff_header" id="to48_3">3</td><td nowrap="nowrap">Note&nbsp;that&nbsp;this&nbsp;Dropout&nbsp;scales&nbsp;the&nbsp;masked&nbsp;input&nbsp;data&nbsp;by&nbsp;the&nbsp;following&nbsp;equation,&nbsp;so&nbsp;to&nbsp;convert&nbsp;the&nbsp;trained&nbsp;model&nbsp;into&nbsp;inference&nbsp;mode,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_4">4</td><td nowrap="nowrap">the&nbsp;user&nbsp;can&nbsp;simply&nbsp;not&nbsp;pass&nbsp;training_mode&nbsp;input&nbsp;or&nbsp;set&nbsp;it&nbsp;to&nbsp;false.</td><td class="diff_next"></td><td class="diff_header" id="to48_4">4</td><td nowrap="nowrap">the&nbsp;user&nbsp;can&nbsp;simply&nbsp;not&nbsp;pass&nbsp;training_mode&nbsp;input&nbsp;or&nbsp;set&nbsp;it&nbsp;to&nbsp;false.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_5">5</td><td nowrap="nowrap">::</td><td class="diff_next"></td><td class="diff_header" id="to48_5">5</td><td nowrap="nowrap">::</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_6">6</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_6">6</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;=&nbsp;scale&nbsp;*&nbsp;data&nbsp;*&nbsp;mask,</td><td class="diff_next"></td><td class="diff_header" id="to48_7">7</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;=&nbsp;scale&nbsp;*&nbsp;data&nbsp;*&nbsp;mask,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_8">8</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_8">8</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_9">9</td><td nowrap="nowrap">where</td><td class="diff_next"></td><td class="diff_header" id="to48_9">9</td><td nowrap="nowrap">where</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_10">10</td><td nowrap="nowrap">::</td><td class="diff_next"></td><td class="diff_header" id="to48_10">10</td><td nowrap="nowrap">::</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_11">11</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;=&nbsp;1.&nbsp;/&nbsp;(1.&nbsp;-&nbsp;ratio).</td><td class="diff_next"></td><td class="diff_header" id="to48_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;=&nbsp;1.&nbsp;/&nbsp;(1.&nbsp;-&nbsp;ratio).</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_14">14</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td><td class="diff_next"></td><td class="diff_header" id="to48_14">14</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_15">15</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_16">16</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to48_16">16</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_17">17</td><td nowrap="nowrap">*&nbsp;**seed**:</td><td class="diff_next"></td><td class="diff_header" id="to48_17">17</td><td nowrap="nowrap">*&nbsp;**seed**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;(Optional)&nbsp;Seed&nbsp;to&nbsp;the&nbsp;random&nbsp;generator,&nbsp;if&nbsp;not&nbsp;specified&nbsp;we&nbsp;will</td><td class="diff_next"></td><td class="diff_header" id="to48_18">18</td><td nowrap="nowrap">&nbsp;&nbsp;(Optional)&nbsp;Seed&nbsp;to&nbsp;the&nbsp;random&nbsp;generator,&nbsp;if&nbsp;not&nbsp;specified&nbsp;we&nbsp;will</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;auto&nbsp;generate&nbsp;one.</td><td class="diff_next"></td><td class="diff_header" id="to48_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;auto&nbsp;generate&nbsp;one.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_20">20</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_20">20</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_21">21</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to48_21">21</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_22">22</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;3&nbsp;inputs.</td><td class="diff_next"></td><td class="diff_header" id="to48_22">22</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;3&nbsp;inputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_23">23</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_23">23</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_24">24</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to48_24">24</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td><td class="diff_next"></td><td class="diff_header" id="to48_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_26">26</td><td nowrap="nowrap">*&nbsp;**ratio**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td><td class="diff_next"></td><td class="diff_header" id="to48_26">26</td><td nowrap="nowrap">*&nbsp;**ratio**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout,&nbsp;with&nbsp;value&nbsp;in&nbsp;[0,&nbsp;1).&nbsp;If&nbsp;this&nbsp;input&nbsp;was</td><td class="diff_next"></td><td class="diff_header" id="to48_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout,&nbsp;with&nbsp;value&nbsp;in&nbsp;[0,&nbsp;1).&nbsp;If&nbsp;this&nbsp;input&nbsp;was</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;set,&nbsp;or&nbsp;if&nbsp;it&nbsp;was&nbsp;set&nbsp;to&nbsp;0,&nbsp;the&nbsp;output&nbsp;would&nbsp;be&nbsp;a&nbsp;simple&nbsp;copy&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to48_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;set,&nbsp;or&nbsp;if&nbsp;it&nbsp;was&nbsp;set&nbsp;to&nbsp;0,&nbsp;the&nbsp;output&nbsp;would&nbsp;be&nbsp;a&nbsp;simple&nbsp;copy&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;the&nbsp;input.&nbsp;If&nbsp;it's&nbsp;non-zero,&nbsp;output&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout&nbsp;of&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to48_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;the&nbsp;input.&nbsp;If&nbsp;it's&nbsp;non-zero,&nbsp;output&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout&nbsp;of&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;scaled&nbsp;input,&nbsp;which&nbsp;is&nbsp;typically&nbsp;the&nbsp;case&nbsp;during&nbsp;training.&nbsp;It&nbsp;is&nbsp;an</td><td class="diff_next"></td><td class="diff_header" id="to48_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;scaled&nbsp;input,&nbsp;which&nbsp;is&nbsp;typically&nbsp;the&nbsp;case&nbsp;during&nbsp;training.&nbsp;It&nbsp;is&nbsp;an</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;optional&nbsp;value,&nbsp;if&nbsp;not&nbsp;specified&nbsp;it&nbsp;will&nbsp;default&nbsp;to&nbsp;0.5.</td><td class="diff_next"></td><td class="diff_header" id="to48_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;optional&nbsp;value,&nbsp;if&nbsp;not&nbsp;specified&nbsp;it&nbsp;will&nbsp;default&nbsp;to&nbsp;0.5.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_32">32</td><td nowrap="nowrap">*&nbsp;**training_mode**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T2**:</td><td class="diff_next"></td><td class="diff_header" id="to48_32">32</td><td nowrap="nowrap">*&nbsp;**training_mode**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T2**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;true&nbsp;then&nbsp;it&nbsp;indicates&nbsp;dropout&nbsp;is&nbsp;being&nbsp;used&nbsp;for&nbsp;training.</td><td class="diff_next"></td><td class="diff_header" id="to48_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;true&nbsp;then&nbsp;it&nbsp;indicates&nbsp;dropout&nbsp;is&nbsp;being&nbsp;used&nbsp;for&nbsp;training.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;It&nbsp;is&nbsp;an&nbsp;optional&nbsp;value&nbsp;hence&nbsp;unless&nbsp;specified&nbsp;explicitly,&nbsp;it&nbsp;is</td><td class="diff_next"></td><td class="diff_header" id="to48_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;It&nbsp;is&nbsp;an&nbsp;optional&nbsp;value&nbsp;hence&nbsp;unless&nbsp;specified&nbsp;explicitly,&nbsp;it&nbsp;is</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;false.&nbsp;If&nbsp;it&nbsp;is&nbsp;false,&nbsp;ratio&nbsp;is&nbsp;ignored&nbsp;and&nbsp;the&nbsp;operation&nbsp;mimics</td><td class="diff_next"></td><td class="diff_header" id="to48_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;false.&nbsp;If&nbsp;it&nbsp;is&nbsp;false,&nbsp;ratio&nbsp;is&nbsp;ignored&nbsp;and&nbsp;the&nbsp;operation&nbsp;mimics</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;inference&nbsp;mode&nbsp;where&nbsp;nothing&nbsp;will&nbsp;be&nbsp;dropped&nbsp;from&nbsp;the&nbsp;input&nbsp;data&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to48_36">36</td><td nowrap="nowrap">&nbsp;&nbsp;inference&nbsp;mode&nbsp;where&nbsp;nothing&nbsp;will&nbsp;be&nbsp;dropped&nbsp;from&nbsp;the&nbsp;input&nbsp;data&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;mask&nbsp;is&nbsp;requested&nbsp;as&nbsp;output&nbsp;it&nbsp;will&nbsp;contain&nbsp;all&nbsp;ones.</td><td class="diff_next"></td><td class="diff_header" id="to48_37">37</td><td nowrap="nowrap">&nbsp;&nbsp;if&nbsp;mask&nbsp;is&nbsp;requested&nbsp;as&nbsp;output&nbsp;it&nbsp;will&nbsp;contain&nbsp;all&nbsp;ones.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_38">38</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_38">38</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_39">39</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to48_39">39</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_40">40</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to48_40">40</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_41">41</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_41">41</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_42">42</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to48_42">42</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td><td class="diff_next"></td><td class="diff_header" id="to48_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to48__0"></td><td class="diff_header" id="from48_44">44</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T2**:</td><td class="diff_next"></td><td class="diff_header" id="to48_44">44</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T2**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td><td class="diff_next"></td><td class="diff_header" id="to48_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_46">46</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to48_46">46</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_47">47</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to48_47">47</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_48">48</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to48_48">48</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to48__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to48__top">t</a></td><td class="diff_header" id="to48_49">49</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;tensor(bfloat16),</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to48_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to48_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to48_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to48_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to48_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_54">54</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to48_55">55</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_55">55</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to48_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to48_57">57</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_57">57</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to48_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to48_59">59</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_59">59</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;'ratio'&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to48_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;'ratio'&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_60">60</td><td nowrap="nowrap">*&nbsp;**T2**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to48_61">61</td><td nowrap="nowrap">*&nbsp;**T2**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_61">61</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(bool)</td><td class="diff_next"></td><td class="diff_header" id="to48_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(bool)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to48_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from48_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;output&nbsp;'mask'&nbsp;types&nbsp;to&nbsp;boolean&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to48_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;output&nbsp;'mask'&nbsp;types&nbsp;to&nbsp;boolean&nbsp;tensors.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-dropout-12:
Dropout - 12
============
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **12**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 12**.

**Summary**

Dropout takes an input floating-point tensor, an optional input ratio (floating-point scalar) and an optional input training_mode (boolean scalar). It produces two tensor outputs,
output (floating-point tensor) and mask (optional `Tensor<bool>`). If `training_mode` is true then the output Y will be a random dropout;
Note that this Dropout scales the masked input data by the following equation, so to convert the trained model into inference mode,
the user can simply not pass `training_mode` input or set it to false.
::

    output = scale * data * mask,

where
::

    scale = 1. / (1. - ratio).

This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**
* **seed**:
  (Optional) Seed to the random generator, if not specified we will
  auto generate one.

**Inputs**
Between 1 and 3 inputs.

* **data** (heterogeneous) - **T**:
  The input data as Tensor.
* **ratio** (optional, heterogeneous) - **T1**:
  The ratio of random dropout, with value in [0, 1). If this input was
  not set, or if it was set to 0, the output would be a simple copy of
  the input. If it's non-zero, output will be a random dropout of the
  scaled input, which is typically the case during training. It is an
  optional value, if not specified it will default to 0.5.
* **training_mode** (optional, heterogeneous) - **T2**:
  If set to true then it indicates dropout is being used for training.
  It is an optional value hence unless specified explicitly, it is
  false. If it is false, ratio is ignored and the operation mimics
  inference mode where nothing will be dropped from the input data and
  if mask is requested as output it will contain all ones.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T2**:
  The output mask.

**Type Constraints**
* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input 'ratio' types to float tensors.
* **T2** in (
  tensor(bool)
  ):
  Constrain output 'mask' types to boolean tensors.

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to49__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to49__0"><a href="#difflib_chg_to49__1">n</a></td><td class="diff_header" id="from49_1">1</td><td nowrap="nowrap"><span class="diff_sub">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;floating&nbsp;tensor&nbsp;and&nbsp;produces&nbsp;two&nbsp;tensor&nbsp;outputs,</span></td><td class="diff_next"><a href="#difflib_chg_to49__1">n</a></td><td class="diff_header" id="to49_1">1</td><td nowrap="nowrap"><span class="diff_add">Dropout&nbsp;takes&nbsp;an&nbsp;input&nbsp;floating-point&nbsp;tensor,&nbsp;an&nbsp;optional&nbsp;input&nbsp;ratio&nbsp;(floating-point&nbsp;scalar)&nbsp;and&nbsp;an&nbsp;optional&nbsp;input&nbsp;training_mode&nbsp;(boolean&nbsp;scalar).&nbsp;It&nbsp;produces&nbsp;two&nbsp;tensor&nbsp;outputs,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_2">2</td><td nowrap="nowrap"><span class="diff_sub">output&nbsp;(floating&nbsp;tensor)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is</span></td><td class="diff_next"></td><td class="diff_header" id="to49_2">2</td><td nowrap="nowrap"><span class="diff_add">output&nbsp;(floating-point&nbsp;tensor)&nbsp;and&nbsp;mask&nbsp;(optional&nbsp;Tensor&lt;bool&gt;).&nbsp;If&nbsp;training_mode&nbsp;is&nbsp;true&nbsp;then&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout;</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_3">3</td><td nowrap="nowrap"><span class="diff_sub">in&nbsp;test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</span></td><td class="diff_next"></td><td class="diff_header" id="to49_3">3</td><td nowrap="nowrap"><span class="diff_add">Note&nbsp;that&nbsp;this&nbsp;Dropout&nbsp;scales&nbsp;the&nbsp;masked&nbsp;input&nbsp;data&nbsp;by&nbsp;the&nbsp;following&nbsp;equation,&nbsp;so&nbsp;to&nbsp;convert&nbsp;the&nbsp;trained&nbsp;model&nbsp;into&nbsp;inference&nbsp;mode,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_4">4</td><td nowrap="nowrap"><span class="diff_sub">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</span></td><td class="diff_next"></td><td class="diff_header" id="to49_4">4</td><td nowrap="nowrap"><span class="diff_add">the&nbsp;user&nbsp;can&nbsp;simply&nbsp;not&nbsp;pass&nbsp;training_mode&nbsp;input&nbsp;or&nbsp;set&nbsp;it&nbsp;to&nbsp;false.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_5">5</td><td nowrap="nowrap"><span class="diff_sub">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</span></td><td class="diff_next"></td><td class="diff_header" id="to49_5">5</td><td nowrap="nowrap"><span class="diff_add">::</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_6">6</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_7">7</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;=&nbsp;scale&nbsp;*&nbsp;data&nbsp;*&nbsp;mask,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_8">8</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_9">9</td><td nowrap="nowrap"><span class="diff_add">where</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_10">10</td><td nowrap="nowrap"><span class="diff_add">::</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_11">11</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__1"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_12">12</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;=&nbsp;1.&nbsp;/&nbsp;(1.&nbsp;-&nbsp;ratio).</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_13">13</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_6">6</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td><td class="diff_next"></td><td class="diff_header" id="to49_14">14</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_7">7</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_15">15</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_8">8</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to49_16">16</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__2"><a href="#difflib_chg_to49__2">n</a></td><td class="diff_header" id="from49_9">9</td><td nowrap="nowrap"><span class="diff_sub">*&nbsp;**ratio**:</span></td><td class="diff_next"><a href="#difflib_chg_to49__2">n</a></td><td class="diff_header" id="to49_17">17</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**seed**:</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_10">10</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</span></td><td class="diff_next"></td><td class="diff_header" id="to49_18">18</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;(Optional)&nbsp;Seed&nbsp;to&nbsp;the&nbsp;random&nbsp;generator,&nbsp;if&nbsp;not&nbsp;specified&nbsp;we&nbsp;will</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_19">19</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;auto&nbsp;generate&nbsp;one.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_20">20</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__3"></td><td class="diff_header" id="from49_12">12</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to49_21">21</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to49__3">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to49__3">n</a></td><td class="diff_header" id="to49_22">22</td><td nowrap="nowrap"><span class="diff_add">Between&nbsp;1&nbsp;and&nbsp;3&nbsp;inputs.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_23">23</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_14">14</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to49_24">24</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td><td class="diff_next"></td><td class="diff_header" id="to49_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to49__4">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to49__4">n</a></td><td class="diff_header" id="to49_26">26</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**ratio**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_27">27</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout,&nbsp;with&nbsp;value&nbsp;in&nbsp;[0,&nbsp;1).&nbsp;If&nbsp;this&nbsp;input&nbsp;was</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_28">28</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;not&nbsp;set,&nbsp;or&nbsp;if&nbsp;it&nbsp;was&nbsp;set&nbsp;to&nbsp;0,&nbsp;the&nbsp;output&nbsp;would&nbsp;be&nbsp;a&nbsp;simple&nbsp;copy&nbsp;of</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_29">29</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;the&nbsp;input.&nbsp;If&nbsp;it's&nbsp;non-zero,&nbsp;output&nbsp;will&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout&nbsp;of&nbsp;the</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_30">30</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;scaled&nbsp;input,&nbsp;which&nbsp;is&nbsp;typically&nbsp;the&nbsp;case&nbsp;during&nbsp;training.&nbsp;It&nbsp;is&nbsp;an</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_31">31</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;optional&nbsp;value,&nbsp;if&nbsp;not&nbsp;specified&nbsp;it&nbsp;will&nbsp;default&nbsp;to&nbsp;0.5.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_32">32</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**training_mode**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T2**:</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_33">33</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;true&nbsp;then&nbsp;it&nbsp;indicates&nbsp;dropout&nbsp;is&nbsp;being&nbsp;used&nbsp;for&nbsp;training.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;It&nbsp;is&nbsp;an&nbsp;optional&nbsp;value&nbsp;hence&nbsp;unless&nbsp;specified&nbsp;explicitly,&nbsp;it&nbsp;is</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;false.&nbsp;If&nbsp;it&nbsp;is&nbsp;false,&nbsp;ratio&nbsp;is&nbsp;ignored&nbsp;and&nbsp;the&nbsp;operation&nbsp;mimics</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_36">36</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;inference&nbsp;mode&nbsp;where&nbsp;nothing&nbsp;will&nbsp;be&nbsp;dropped&nbsp;from&nbsp;the&nbsp;input&nbsp;data&nbsp;and</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_37">37</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;if&nbsp;mask&nbsp;is&nbsp;requested&nbsp;as&nbsp;output&nbsp;it&nbsp;will&nbsp;contain&nbsp;all&nbsp;ones.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_16">16</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_38">38</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__4"></td><td class="diff_header" id="from49_17">17</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to49_39">39</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_18">18</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to49_40">40</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_19">19</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_41">41</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_20">20</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to49_42">42</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td><td class="diff_next"></td><td class="diff_header" id="to49_43">43</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to49__5">n</a></td><td class="diff_header" id="from49_22">22</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T<span class="diff_chg">1</span>**:</td><td class="diff_next"><a href="#difflib_chg_to49__5">n</a></td><td class="diff_header" id="to49_44">44</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T<span class="diff_chg">2</span>**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td><td class="diff_next"></td><td class="diff_header" id="to49_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_24">24</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_46">46</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_25">25</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to49_47">47</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_26">26</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to49_48">48</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to49_49">49</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__5"></td><td class="diff_header" id="from49_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to49_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to49_51">51</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to49_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to49_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_32">32</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to49_54">54</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to49__6">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to49__6">n</a></td><td class="diff_header" id="to49_55">55</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;tensor(double),</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_56">56</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;tensor(float),</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_57">57</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;tensor(float16)</span></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to49__6"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_58">58</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;):</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_59">59</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;'ratio'&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to49_60">60</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**T2**&nbsp;in&nbsp;(</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(bool)</td><td class="diff_next"></td><td class="diff_header" id="to49_61">61</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(bool)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from49_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to49_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to49__top">t</a></td><td class="diff_header" id="from49_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;output&nbsp;mask&nbsp;types&nbsp;to&nbsp;boolean&nbsp;tensors.</td><td class="diff_next"><a href="#difflib_chg_to49__top">t</a></td><td class="diff_header" id="to49_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;output&nbsp;<span class="diff_add">'</span>mask<span class="diff_add">'</span>&nbsp;types&nbsp;to&nbsp;boolean&nbsp;tensors.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-dropout-10:
Dropout - 10
============
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **10**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 10**.

**Summary**

Dropout takes one input floating tensor and produces two tensor outputs,
output (floating tensor) and mask (`Tensor<bool>`). Depending on whether it is
in test mode or not, the output Y will either be a random dropout, or a simple
copy of the input. Note that our implementation of Dropout does scaling in
the training phase, so during testing nothing needs to be done.
This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**
* **ratio**:
  The ratio of random dropout

**Inputs**

* **data** (heterogeneous) - **T**:
  The input data as Tensor.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T1**:
  The output mask.

**Type Constraints**
* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(bool)
  ):
  Constrain output mask types to boolean tensors.

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to50__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to50__0"><a href="#difflib_chg_to50__1">n</a></td><td class="diff_header" id="from50_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;<span class="diff_chg">d</span>at<span class="diff_chg">a&nbsp;(T</span>ensor<span class="diff_sub">&lt;float&gt;)</span>&nbsp;and&nbsp;produces&nbsp;two&nbsp;<span class="diff_chg">T</span>ensor&nbsp;outputs,</td><td class="diff_next"><a href="#difflib_chg_to50__1">n</a></td><td class="diff_header" id="to50_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;<span class="diff_chg">flo</span>at<span class="diff_chg">ing&nbsp;t</span>ensor&nbsp;and&nbsp;produces&nbsp;two&nbsp;<span class="diff_chg">t</span>ensor&nbsp;outputs,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_2">2</td><td nowrap="nowrap">output&nbsp;(<span class="diff_chg">T</span>ensor<span class="diff_sub">&lt;float&gt;</span>)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is<span class="diff_sub">&nbsp;in</span></td><td class="diff_next"></td><td class="diff_header" id="to50_2">2</td><td nowrap="nowrap">output&nbsp;(<span class="diff_chg">floating&nbsp;t</span>ensor)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_3">3</td><td nowrap="nowrap">test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td><td class="diff_next"></td><td class="diff_header" id="to50_3">3</td><td nowrap="nowrap"><span class="diff_add">in&nbsp;</span>test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td><td class="diff_next"></td><td class="diff_header" id="to50_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td><td class="diff_next"></td><td class="diff_header" id="to50_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_6">6</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td><td class="diff_next"></td><td class="diff_header" id="to50_6">6</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_7">7</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_7">7</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_8">8</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to50_8">8</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_9">9</td><td nowrap="nowrap">*&nbsp;**ratio**:</td><td class="diff_next"></td><td class="diff_header" id="to50_9">9</td><td nowrap="nowrap">*&nbsp;**ratio**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</td><td class="diff_next"></td><td class="diff_header" id="to50_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_11">11</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_12">12</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to50_12">12</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_14">14</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to50_14">14</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td><td class="diff_next"></td><td class="diff_header" id="to50_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_16">16</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_16">16</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to50__1"></td><td class="diff_header" id="from50_17">17</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to50_17">17</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_18">18</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to50_18">18</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_19">19</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_19">19</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_20">20</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to50_20">20</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td><td class="diff_next"></td><td class="diff_header" id="to50_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to50__2">n</a></td><td class="diff_header" id="from50_22">22</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"><a href="#difflib_chg_to50__2">n</a></td><td class="diff_header" id="to50_22">22</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T<span class="diff_add">1</span>**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td><td class="diff_next"></td><td class="diff_header" id="to50_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_24">24</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_24">24</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_25">25</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to50_25">25</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_26">26</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to50_26">26</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to50__2"></td><td class="diff_header" id="from50_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to50_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to50_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to50_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to50_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from50_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to50_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to50__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to50__top">t</a></td><td class="diff_header" id="to50_32">32</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**T1**&nbsp;in&nbsp;(</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_33">33</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;tensor(bool)</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_34">34</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;):</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to50_35">35</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Constrain&nbsp;output&nbsp;mask&nbsp;types&nbsp;to&nbsp;boolean&nbsp;tensors.</span></td></tr>
            </tbody>
        </table>

.. _l-onnx-op-dropout-7:
Dropout - 7
===========
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **7**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 7**.

**Summary**

Dropout takes one input data (Tensor<float>) and produces two Tensor outputs,
output (Tensor<float>) and mask (Tensor<bool>). Depending on whether it is in
test mode or not, the output Y will either be a random dropout, or a simple
copy of the input. Note that our implementation of Dropout does scaling in
the training phase, so during testing nothing needs to be done.
This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**
* **ratio**:
  The ratio of random dropout

**Inputs**

* **data** (heterogeneous) - **T**:
  The input data as Tensor.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T**:
  The output mask.

**Type Constraints**
* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to51__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to51__0"><a href="#difflib_chg_to51__0">f</a></td><td class="diff_header" id="from51_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;data&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;produces&nbsp;two&nbsp;Tensor&nbsp;outputs,</td><td class="diff_next"><a href="#difflib_chg_to51__0">f</a></td><td class="diff_header" id="to51_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;data&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;produces&nbsp;two&nbsp;Tensor&nbsp;outputs,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_2">2</td><td nowrap="nowrap">output&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is&nbsp;in</td><td class="diff_next"></td><td class="diff_header" id="to51_2">2</td><td nowrap="nowrap">output&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is&nbsp;in</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_3">3</td><td nowrap="nowrap">test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td><td class="diff_next"></td><td class="diff_header" id="to51_3">3</td><td nowrap="nowrap">test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to51__1"></td><td class="diff_header" id="from51_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td><td class="diff_next"></td><td class="diff_header" id="to51_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td><td class="diff_next"></td><td class="diff_header" id="to51_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to51__1">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to51__1">n</a></td><td class="diff_header" id="to51_6">6</td><td nowrap="nowrap"><span class="diff_add">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_6">6</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_7">7</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to51__2"></td><td class="diff_header" id="from51_7">7</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to51_8">8</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to51__2">n</a></td><td class="diff_header" id="from51_8">8</td><td nowrap="nowrap"><span class="diff_sub">*&nbsp;**is_test**:</span></td><td class="diff_next"><a href="#difflib_chg_to51__2">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_9">9</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;(int,&nbsp;default&nbsp;0)&nbsp;if&nbsp;nonzero,&nbsp;run&nbsp;dropout&nbsp;in&nbsp;test&nbsp;mode&nbsp;where&nbsp;the</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_10">10</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;output&nbsp;is&nbsp;simply&nbsp;Y&nbsp;=&nbsp;X.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_11">11</td><td nowrap="nowrap">*&nbsp;**ratio**:</td><td class="diff_next"></td><td class="diff_header" id="to51_9">9</td><td nowrap="nowrap">*&nbsp;**ratio**:</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to51__3">n</a></td><td class="diff_header" id="from51_12">12</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;(float,&nbsp;default&nbsp;0.5)&nbsp;the&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</span></td><td class="diff_next"><a href="#difflib_chg_to51__3">n</a></td><td class="diff_header" id="to51_10">10</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;The&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_11">11</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_14">14</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to51_12">12</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_16">16</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to51_14">14</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td><td class="diff_next"></td><td class="diff_header" id="to51_15">15</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_18">18</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_16">16</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_19">19</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to51_17">17</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to51__3"></td><td class="diff_header" id="from51_20">20</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to51_18">18</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_21">21</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_19">19</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_22">22</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to51_20">20</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td><td class="diff_next"></td><td class="diff_header" id="to51_21">21</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_24">24</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to51_22">22</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to51__top">t</a></td><td class="diff_header" id="from51_25">25</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.&nbsp;If&nbsp;is_test&nbsp;is&nbsp;nonzero,&nbsp;this&nbsp;output&nbsp;is&nbsp;not&nbsp;filled.</span></td><td class="diff_next"><a href="#difflib_chg_to51__top">t</a></td><td class="diff_header" id="to51_23">23</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_26">26</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to51_24">24</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_27">27</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to51_25">25</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_28">28</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to51_26">26</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to51_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to51_28">28</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to51_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to51_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from51_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to51_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-dropout-6:
Dropout - 6
===========
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **6**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 6**.

**Summary**

Dropout takes one input data (Tensor<float>) and produces two Tensor outputs,
output (Tensor<float>) and mask (Tensor<bool>). Depending on whether it is in
test mode or not, the output Y will either be a random dropout, or a simple
copy of the input. Note that our implementation of Dropout does scaling in
the training phase, so during testing nothing needs to be done.

**Attributes**
* **is_test**:
  (int, default 0) if nonzero, run dropout in test mode where the
  output is simply Y = X.
* **ratio**:
  (float, default 0.5) the ratio of random dropout

**Inputs**

* **data** (heterogeneous) - **T**:
  The input data as Tensor.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T**:
  The output mask. If is_test is nonzero, this output is not filled.

**Type Constraints**
* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to52__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next"><a href="#difflib_chg_to52__0">f</a></td><td class="diff_header" id="from52_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;data&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;produces&nbsp;two&nbsp;Tensor&nbsp;outputs,</td><td class="diff_next"><a href="#difflib_chg_to52__0">f</a></td><td class="diff_header" id="to52_1">1</td><td nowrap="nowrap">Dropout&nbsp;takes&nbsp;one&nbsp;input&nbsp;data&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;produces&nbsp;two&nbsp;Tensor&nbsp;outputs,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_2">2</td><td nowrap="nowrap">output&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is&nbsp;in</td><td class="diff_next"></td><td class="diff_header" id="to52_2">2</td><td nowrap="nowrap">output&nbsp;(Tensor&lt;float&gt;)&nbsp;and&nbsp;mask&nbsp;(Tensor&lt;bool&gt;).&nbsp;Depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is&nbsp;in</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to52__0"></td><td class="diff_header" id="from52_3">3</td><td nowrap="nowrap">test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td><td class="diff_next"></td><td class="diff_header" id="to52_3">3</td><td nowrap="nowrap">test&nbsp;mode&nbsp;or&nbsp;not,&nbsp;the&nbsp;output&nbsp;Y&nbsp;will&nbsp;either&nbsp;be&nbsp;a&nbsp;random&nbsp;dropout,&nbsp;or&nbsp;a&nbsp;simple</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td><td class="diff_next"></td><td class="diff_header" id="to52_4">4</td><td nowrap="nowrap">copy&nbsp;of&nbsp;the&nbsp;input.&nbsp;Note&nbsp;that&nbsp;our&nbsp;implementation&nbsp;of&nbsp;Dropout&nbsp;does&nbsp;scaling&nbsp;in</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td><td class="diff_next"></td><td class="diff_header" id="to52_5">5</td><td nowrap="nowrap">the&nbsp;training&nbsp;phase,&nbsp;so&nbsp;during&nbsp;testing&nbsp;nothing&nbsp;needs&nbsp;to&nbsp;be&nbsp;done.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_6">6</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_6">6</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_7">7</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to52_7">7</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to52__top">t</a></td><td class="diff_header" id="from52_8">8</td><td nowrap="nowrap"><span class="diff_sub">*&nbsp;**consumed_inputs**:</span></td><td class="diff_next"><a href="#difflib_chg_to52__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_9">9</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;legacy&nbsp;optimization&nbsp;attribute.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_10">10</td><td nowrap="nowrap">*&nbsp;**is_test**:</td><td class="diff_next"></td><td class="diff_header" id="to52_8">8</td><td nowrap="nowrap">*&nbsp;**is_test**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_11">11</td><td nowrap="nowrap">&nbsp;&nbsp;(int,&nbsp;default&nbsp;0)&nbsp;if&nbsp;nonzero,&nbsp;run&nbsp;dropout&nbsp;in&nbsp;test&nbsp;mode&nbsp;where&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to52_9">9</td><td nowrap="nowrap">&nbsp;&nbsp;(int,&nbsp;default&nbsp;0)&nbsp;if&nbsp;nonzero,&nbsp;run&nbsp;dropout&nbsp;in&nbsp;test&nbsp;mode&nbsp;where&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;output&nbsp;is&nbsp;simply&nbsp;Y&nbsp;=&nbsp;X.</td><td class="diff_next"></td><td class="diff_header" id="to52_10">10</td><td nowrap="nowrap">&nbsp;&nbsp;output&nbsp;is&nbsp;simply&nbsp;Y&nbsp;=&nbsp;X.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_13">13</td><td nowrap="nowrap">*&nbsp;**ratio**:</td><td class="diff_next"></td><td class="diff_header" id="to52_11">11</td><td nowrap="nowrap">*&nbsp;**ratio**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_14">14</td><td nowrap="nowrap">&nbsp;&nbsp;(float,&nbsp;default&nbsp;0.5)&nbsp;the&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</td><td class="diff_next"></td><td class="diff_header" id="to52_12">12</td><td nowrap="nowrap">&nbsp;&nbsp;(float,&nbsp;default&nbsp;0.5)&nbsp;the&nbsp;ratio&nbsp;of&nbsp;random&nbsp;dropout</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_16">16</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to52_14">14</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_17">17</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_15">15</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_18">18</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to52_16">16</td><td nowrap="nowrap">*&nbsp;**data**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_19">19</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td><td class="diff_next"></td><td class="diff_header" id="to52_17">17</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;data&nbsp;as&nbsp;Tensor.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_20">20</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_18">18</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_21">21</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to52_19">19</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_22">22</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to52_20">20</td><td nowrap="nowrap">Between&nbsp;1&nbsp;and&nbsp;2&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_23">23</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_21">21</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_24">24</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to52_22">22</td><td nowrap="nowrap">*&nbsp;**output**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td><td class="diff_next"></td><td class="diff_header" id="to52_23">23</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_26">26</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to52_24">24</td><td nowrap="nowrap">*&nbsp;**mask**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_27">27</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.&nbsp;If&nbsp;is_test&nbsp;is&nbsp;nonzero,&nbsp;this&nbsp;output&nbsp;is&nbsp;not&nbsp;filled.</td><td class="diff_next"></td><td class="diff_header" id="to52_25">25</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;output&nbsp;mask.&nbsp;If&nbsp;is_test&nbsp;is&nbsp;nonzero,&nbsp;this&nbsp;output&nbsp;is&nbsp;not&nbsp;filled.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_28">28</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to52_26">26</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_29">29</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to52_27">27</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_30">30</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to52_28">28</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to52_29">29</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to52_30">30</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to52_31">31</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_34">34</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to52_32">32</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from52_35">35</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to52_33">33</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-dropout-1:
Dropout - 1
===========
**Version**
* **name**: `Dropout (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#Dropout>`_
* **domain**: **main**
* **since_version**: **1**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: False

This version of the operator has been available
**since version 1**.

**Summary**

Dropout takes one input data (Tensor<float>) and produces two Tensor outputs,
output (Tensor<float>) and mask (Tensor<bool>). Depending on whether it is in
test mode or not, the output Y will either be a random dropout, or a simple
copy of the input. Note that our implementation of Dropout does scaling in
the training phase, so during testing nothing needs to be done.

**Attributes**
* **consumed_inputs**:
  legacy optimization attribute.
* **is_test**:
  (int, default 0) if nonzero, run dropout in test mode where the
  output is simply Y = X.
* **ratio**:
  (float, default 0.5) the ratio of random dropout

**Inputs**

* **data** (heterogeneous) - **T**:
  The input data as Tensor.

**Outputs**
Between 1 and 2 outputs.

* **output** (heterogeneous) - **T**:
  The output.
* **mask** (optional, heterogeneous) - **T**:
  The output mask. If is_test is nonzero, this output is not filled.

**Type Constraints**
* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
