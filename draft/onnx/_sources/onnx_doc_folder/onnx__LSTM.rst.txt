
.. _l-onnx-doc-LSTM:

====
LSTM
====

.. contents::
    :local:


.. _l-onnx-op-lstm-14:

LSTM - 14
=========

**Version**

* **name**: `LSTM (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#LSTM>`_
* **domain**: **main**
* **since_version**: **14**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 14**.

**Summary**

Computes an one-layer LSTM. This operator is usually supported via some
custom implementation such as CuDNN.

Notations:

`X` - input tensor

`i` - input gate

`o` - output gate

`f` - forget gate

`c` - cell gate

`t` - time step (t-1 means previous time step)

`W[iofc]` - W parameter weight matrix for input, output, forget, and cell gates

`R[iofc]` - R recurrence weight matrix for input, output, forget, and cell gates

`Wb[iofc]` - W bias vectors for input, output, forget, and cell gates

`Rb[iofc]` - R bias vectors for input, output, forget, and cell gates

`P[iof]`  - P peephole weight vector for input, output, and forget gates

`WB[iofc]` - W parameter weight matrix for backward input, output, forget, and cell gates

`RB[iofc]` - R recurrence weight matrix for backward input, output, forget, and cell gates

`WBb[iofc]` - W bias vectors for backward input, output, forget, and cell gates

`RBb[iofc]` - R bias vectors for backward input, output, forget, and cell gates

`PB[iof]`  - P peephole weight vector for backward input, output, and forget gates

`H` - Hidden state

`num_directions` - 2 if direction == bidirectional else 1

Activation functions:

  Relu(x)                - max(0, x)

  Tanh(x)                - (1 - e^{-2x})/(1 + e^{-2x})

  Sigmoid(x)             - 1/(1 + e^{-x})

  (NOTE: Below are optional)

  Affine(x)              - alpha*x + beta

  LeakyRelu(x)           - x if x >= 0 else alpha * x

  ThresholdedRelu(x)     - x if x >= alpha else 0

  ScaledTanh(x)          - alpha*Tanh(beta*x)

  HardSigmoid(x)         - min(max(alpha*x + beta, 0), 1)

  Elu(x)                 - x if x >= 0 else alpha*(e^x - 1)

  Softsign(x)            - x/(1 + |x|)

  Softplus(x)            - log(1 + e^x)

Equations (Default: f=Sigmoid, g=Tanh, h=Tanh):

  - it = f(Xt*(Wi^T) + Ht-1*(Ri^T) + Pi (.) Ct-1 + Wbi + Rbi)

  - ft = f(Xt*(Wf^T) + Ht-1*(Rf^T) + Pf (.) Ct-1 + Wbf + Rbf)

  - ct = g(Xt*(Wc^T) + Ht-1*(Rc^T) + Wbc + Rbc)

  - Ct = ft (.) Ct-1 + it (.) ct

  - ot = f(Xt*(Wo^T) + Ht-1*(Ro^T) + Po (.) Ct + Wbo + Rbo)

  - Ht = ot (.) h(Ct)
This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**

* **activation_alpha**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.For example with LeakyRelu, the default
  alpha is 0.01.
* **activation_beta**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.
* **activations**:
  A list of 3 (or 6 if bidirectional) activation functions for input,
  output, forget, cell, and hidden. The activation functions must be
  one of the activation functions specified above. Optional: See the
  equations for default if not specified.
* **clip**:
  Cell clip threshold. Clipping bounds the elements of a tensor in the
  range of [-threshold, +threshold] and is applied to the input of
  activations. No clip if not specified.
* **direction**:
  Specify if the RNN is forward, reverse, or bidirectional. Must be
  one of forward (default), reverse, or bidirectional.
* **hidden_size**:
  Number of neurons in the hidden layer
* **input_forget**:
  Couple the input and forget gates if 1.
* **layout**:
  The shape format of inputs X, initial_h, initial_c and outputs Y,
  Y_h, Y_c. If 0, the following shapes are expected: X.shape =
  [seq_length, batch_size, input_size], Y.shape = [seq_length,
  num_directions, batch_size, hidden_size], initial_h.shape =
  Y_h.shape = initial_c.shape = Y_c.shape = [num_directions,
  batch_size, hidden_size]. If 1, the following shapes are expected:
  X.shape = [batch_size, seq_length, input_size], Y.shape =
  [batch_size, seq_length, num_directions, hidden_size],
  initial_h.shape = Y_h.shape = initial_c.shape = Y_c.shape =
  [batch_size, num_directions, hidden_size].

**Inputs**

Between 3 and 8 inputs.

* **X** (heterogeneous) - **T**:
  The input sequences packed (and potentially padded) into one 3-D
  tensor with the shape of `[seq_length, batch_size, input_size]`.
* **W** (heterogeneous) - **T**:
  The weight tensor for the gates. Concatenation of `W[iofc]` and
  `WB[iofc]` (if bidirectional) along dimension 0. The tensor has
  shape `[num_directions, 4*hidden_size, input_size]`.
* **R** (heterogeneous) - **T**:
  The recurrence weight tensor. Concatenation of `R[iofc]` and
  `RB[iofc]` (if bidirectional) along dimension 0. This tensor has
  shape `[num_directions, 4*hidden_size, hidden_size]`.
* **B** (optional, heterogeneous) - **T**:
  The bias tensor for input gate. Concatenation of `[Wb[iofc],
  Rb[iofc]]`, and `[WBb[iofc], RBb[iofc]]` (if bidirectional) along
  dimension 0. This tensor has shape `[num_directions,
  8*hidden_size]`. Optional: If not specified - assumed to be 0.
* **sequence_lens** (optional, heterogeneous) - **T1**:
  Optional tensor specifying lengths of the sequences in a batch. If
  not specified - assumed all sequences in the batch to have length
  `seq_length`. It has shape `[batch_size]`.
* **initial_h** (optional, heterogeneous) - **T**:
  Optional initial value of the hidden. If not specified - assumed to
  be 0. It has shape `[num_directions, batch_size, hidden_size]`.
* **initial_c** (optional, heterogeneous) - **T**:
  Optional initial value of the cell. If not specified - assumed to be
  0. It has shape `[num_directions, batch_size, hidden_size]`.
* **P** (optional, heterogeneous) - **T**:
  The weight tensor for peepholes. Concatenation of `P[iof]` and
  `PB[iof]` (if bidirectional) along dimension 0. It has shape
  `[num_directions, 3*hidde_size]`. Optional: If not specified -
  assumed to be 0.

**Outputs**

Between 0 and 3 outputs.

* **Y** (optional, heterogeneous) - **T**:
  A tensor that concats all the intermediate output values of the
  hidden. It has shape `[seq_length, num_directions, batch_size,
  hidden_size]`.
* **Y_h** (optional, heterogeneous) - **T**:
  The last output value of the hidden. It has shape `[num_directions,
  batch_size, hidden_size]`.
* **Y_c** (optional, heterogeneous) - **T**:
  The last output value of the cell. It has shape `[num_directions,
  batch_size, hidden_size]`.

**Type Constraints**

* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(int32)
  ):
  Constrain seq_lens to integer tensor.

**Examples**

**_defaults**

::

    input = np.array([[[1.0, 2.0], [3.0, 4.0], [5.0, 6.0]]]).astype(np.float32)

    input_size = 2
    hidden_size = 3
    weight_scale = 0.1
    number_of_gates = 4

    node = onnx.helper.make_node(
        "LSTM", inputs=["X", "W", "R"], outputs=["", "Y_h"], hidden_size=hidden_size
    )

    W = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, input_size)
    ).astype(np.float32)
    R = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, hidden_size)
    ).astype(np.float32)

    lstm = LSTM_Helper(X=input, W=W, R=R)
    _, Y_h = lstm.step()
    expect(
        node,
        inputs=[input, W, R],
        outputs=[Y_h.astype(np.float32)],
        name="test_lstm_defaults",
    )

**_initial_bias**

::

    input = np.array([[[1.0, 2.0, 3.0], [4.0, 5.0, 6.0], [7.0, 8.0, 9.0]]]).astype(
        np.float32
    )

    input_size = 3
    hidden_size = 4
    weight_scale = 0.1
    custom_bias = 0.1
    number_of_gates = 4

    node = onnx.helper.make_node(
        "LSTM",
        inputs=["X", "W", "R", "B"],
        outputs=["", "Y_h"],
        hidden_size=hidden_size,
    )

    W = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, input_size)
    ).astype(np.float32)
    R = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, hidden_size)
    ).astype(np.float32)

    # Adding custom bias
    W_B = custom_bias * np.ones((1, number_of_gates * hidden_size)).astype(
        np.float32
    )
    R_B = np.zeros((1, number_of_gates * hidden_size)).astype(np.float32)
    B = np.concatenate((W_B, R_B), 1)

    lstm = LSTM_Helper(X=input, W=W, R=R, B=B)
    _, Y_h = lstm.step()
    expect(
        node,
        inputs=[input, W, R, B],
        outputs=[Y_h.astype(np.float32)],
        name="test_lstm_with_initial_bias",
    )

**_peepholes**

::

    input = np.array([[[1.0, 2.0, 3.0, 4.0], [5.0, 6.0, 7.0, 8.0]]]).astype(
        np.float32
    )

    input_size = 4
    hidden_size = 3
    weight_scale = 0.1
    number_of_gates = 4
    number_of_peepholes = 3

    node = onnx.helper.make_node(
        "LSTM",
        inputs=["X", "W", "R", "B", "sequence_lens", "initial_h", "initial_c", "P"],
        outputs=["", "Y_h"],
        hidden_size=hidden_size,
    )

    # Initializing Inputs
    W = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, input_size)
    ).astype(np.float32)
    R = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, hidden_size)
    ).astype(np.float32)
    B = np.zeros((1, 2 * number_of_gates * hidden_size)).astype(np.float32)
    seq_lens = np.repeat(input.shape[0], input.shape[1]).astype(np.int32)
    init_h = np.zeros((1, input.shape[1], hidden_size)).astype(np.float32)
    init_c = np.zeros((1, input.shape[1], hidden_size)).astype(np.float32)
    P = weight_scale * np.ones((1, number_of_peepholes * hidden_size)).astype(
        np.float32
    )

    lstm = LSTM_Helper(
        X=input, W=W, R=R, B=B, P=P, initial_c=init_c, initial_h=init_h
    )
    _, Y_h = lstm.step()
    expect(
        node,
        inputs=[input, W, R, B, seq_lens, init_h, init_c, P],
        outputs=[Y_h.astype(np.float32)],
        name="test_lstm_with_peepholes",
    )

**_batchwise**

::

    input = np.array([[[1.0, 2.0]], [[3.0, 4.0]], [[5.0, 6.0]]]).astype(np.float32)

    input_size = 2
    hidden_size = 7
    weight_scale = 0.3
    number_of_gates = 4
    layout = 1

    node = onnx.helper.make_node(
        "LSTM",
        inputs=["X", "W", "R"],
        outputs=["Y", "Y_h"],
        hidden_size=hidden_size,
        layout=layout,
    )

    W = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, input_size)
    ).astype(np.float32)
    R = weight_scale * np.ones(
        (1, number_of_gates * hidden_size, hidden_size)
    ).astype(np.float32)

    lstm = LSTM_Helper(X=input, W=W, R=R, layout=layout)
    Y, Y_h = lstm.step()
    expect(
        node,
        inputs=[input, W, R],
        outputs=[Y.astype(np.float32), Y_h.astype(np.float32)],
        name="test_lstm_batchwise",
    )

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to96__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next"><a href="#difflib_chg_to96__0">f</a></td><td class="diff_header" id="from96_1">1</td><td nowrap="nowrap">Computes&nbsp;an&nbsp;one-layer&nbsp;LSTM.&nbsp;This&nbsp;operator&nbsp;is&nbsp;usually&nbsp;supported&nbsp;via&nbsp;some</td><td class="diff_next"><a href="#difflib_chg_to96__0">f</a></td><td class="diff_header" id="to96_1">1</td><td nowrap="nowrap">Computes&nbsp;an&nbsp;one-layer&nbsp;LSTM.&nbsp;This&nbsp;operator&nbsp;is&nbsp;usually&nbsp;supported&nbsp;via&nbsp;some</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_2">2</td><td nowrap="nowrap">custom&nbsp;implementation&nbsp;such&nbsp;as&nbsp;CuDNN.</td><td class="diff_next"></td><td class="diff_header" id="to96_2">2</td><td nowrap="nowrap">custom&nbsp;implementation&nbsp;such&nbsp;as&nbsp;CuDNN.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_3">3</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_3">3</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_4">4</td><td nowrap="nowrap">Notations:</td><td class="diff_next"></td><td class="diff_header" id="to96_4">4</td><td nowrap="nowrap">Notations:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_5">5</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_5">5</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_6">6</td><td nowrap="nowrap">X&nbsp;-&nbsp;input&nbsp;tensor</td><td class="diff_next"></td><td class="diff_header" id="to96_6">6</td><td nowrap="nowrap">X&nbsp;-&nbsp;input&nbsp;tensor</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_7">7</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_7">7</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_8">8</td><td nowrap="nowrap">i&nbsp;-&nbsp;input&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to96_8">8</td><td nowrap="nowrap">i&nbsp;-&nbsp;input&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_9">9</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_9">9</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_10">10</td><td nowrap="nowrap">o&nbsp;-&nbsp;output&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to96_10">10</td><td nowrap="nowrap">o&nbsp;-&nbsp;output&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_11">11</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_12">12</td><td nowrap="nowrap">f&nbsp;-&nbsp;forget&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to96_12">12</td><td nowrap="nowrap">f&nbsp;-&nbsp;forget&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_14">14</td><td nowrap="nowrap">c&nbsp;-&nbsp;cell&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to96_14">14</td><td nowrap="nowrap">c&nbsp;-&nbsp;cell&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_15">15</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_16">16</td><td nowrap="nowrap">t&nbsp;-&nbsp;time&nbsp;step&nbsp;(t-1&nbsp;means&nbsp;previous&nbsp;time&nbsp;step)</td><td class="diff_next"></td><td class="diff_header" id="to96_16">16</td><td nowrap="nowrap">t&nbsp;-&nbsp;time&nbsp;step&nbsp;(t-1&nbsp;means&nbsp;previous&nbsp;time&nbsp;step)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_17">17</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_17">17</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_18">18</td><td nowrap="nowrap">W[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_18">18</td><td nowrap="nowrap">W[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_19">19</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_19">19</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_20">20</td><td nowrap="nowrap">R[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_20">20</td><td nowrap="nowrap">R[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_21">21</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_21">21</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_22">22</td><td nowrap="nowrap">Wb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_22">22</td><td nowrap="nowrap">Wb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_23">23</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_23">23</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_24">24</td><td nowrap="nowrap">Rb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_24">24</td><td nowrap="nowrap">Rb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_25">25</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_25">25</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_26">26</td><td nowrap="nowrap">P[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_26">26</td><td nowrap="nowrap">P[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_27">27</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_27">27</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_28">28</td><td nowrap="nowrap">WB[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_28">28</td><td nowrap="nowrap">WB[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_29">29</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_29">29</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_30">30</td><td nowrap="nowrap">RB[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_30">30</td><td nowrap="nowrap">RB[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_31">31</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_31">31</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_32">32</td><td nowrap="nowrap">WBb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_32">32</td><td nowrap="nowrap">WBb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_33">33</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_33">33</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_34">34</td><td nowrap="nowrap">RBb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_34">34</td><td nowrap="nowrap">RBb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_35">35</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_35">35</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_36">36</td><td nowrap="nowrap">PB[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to96_36">36</td><td nowrap="nowrap">PB[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_37">37</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_37">37</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_38">38</td><td nowrap="nowrap">H&nbsp;-&nbsp;Hidden&nbsp;state</td><td class="diff_next"></td><td class="diff_header" id="to96_38">38</td><td nowrap="nowrap">H&nbsp;-&nbsp;Hidden&nbsp;state</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_39">39</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_39">39</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_40">40</td><td nowrap="nowrap">num_directions&nbsp;-&nbsp;2&nbsp;if&nbsp;direction&nbsp;==&nbsp;bidirectional&nbsp;else&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to96_40">40</td><td nowrap="nowrap">num_directions&nbsp;-&nbsp;2&nbsp;if&nbsp;direction&nbsp;==&nbsp;bidirectional&nbsp;else&nbsp;1</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_41">41</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_41">41</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_42">42</td><td nowrap="nowrap">Activation&nbsp;functions:</td><td class="diff_next"></td><td class="diff_header" id="to96_42">42</td><td nowrap="nowrap">Activation&nbsp;functions:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_43">43</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_43">43</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;Relu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;max(0,&nbsp;x)</td><td class="diff_next"></td><td class="diff_header" id="to96_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;Relu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;max(0,&nbsp;x)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_45">45</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_45">45</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;Tanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(1&nbsp;-&nbsp;e^{-2x})/(1&nbsp;+&nbsp;e^{-2x})</td><td class="diff_next"></td><td class="diff_header" id="to96_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;Tanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(1&nbsp;-&nbsp;e^{-2x})/(1&nbsp;+&nbsp;e^{-2x})</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_47">47</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_47">47</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;Sigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;1/(1&nbsp;+&nbsp;e^{-x})</td><td class="diff_next"></td><td class="diff_header" id="to96_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;Sigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;1/(1&nbsp;+&nbsp;e^{-x})</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_49">49</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_49">49</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;(NOTE:&nbsp;Below&nbsp;are&nbsp;optional)</td><td class="diff_next"></td><td class="diff_header" id="to96_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;(NOTE:&nbsp;Below&nbsp;are&nbsp;optional)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_51">51</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_51">51</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;Affine(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*x&nbsp;+&nbsp;beta</td><td class="diff_next"></td><td class="diff_header" id="to96_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;Affine(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*x&nbsp;+&nbsp;beta</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_53">53</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_53">53</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;LeakyRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha&nbsp;*&nbsp;x</td><td class="diff_next"></td><td class="diff_header" id="to96_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;LeakyRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha&nbsp;*&nbsp;x</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_55">55</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_55">55</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;ThresholdedRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;alpha&nbsp;else&nbsp;0</td><td class="diff_next"></td><td class="diff_header" id="to96_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;ThresholdedRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;alpha&nbsp;else&nbsp;0</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_57">57</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_57">57</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;ScaledTanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*Tanh(beta*x)</td><td class="diff_next"></td><td class="diff_header" id="to96_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;ScaledTanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*Tanh(beta*x)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_59">59</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_59">59</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;HardSigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;min(max(alpha*x&nbsp;+&nbsp;beta,&nbsp;0),&nbsp;1)</td><td class="diff_next"></td><td class="diff_header" id="to96_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;HardSigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;min(max(alpha*x&nbsp;+&nbsp;beta,&nbsp;0),&nbsp;1)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_61">61</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_61">61</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;Elu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha*(e^x&nbsp;-&nbsp;1)</td><td class="diff_next"></td><td class="diff_header" id="to96_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;Elu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha*(e^x&nbsp;-&nbsp;1)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_63">63</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_63">63</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;Softsign(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x/(1&nbsp;+&nbsp;|x|)</td><td class="diff_next"></td><td class="diff_header" id="to96_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;Softsign(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x/(1&nbsp;+&nbsp;|x|)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_65">65</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_65">65</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;Softplus(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;log(1&nbsp;+&nbsp;e^x)</td><td class="diff_next"></td><td class="diff_header" id="to96_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;Softplus(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;log(1&nbsp;+&nbsp;e^x)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_67">67</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_67">67</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_68">68</td><td nowrap="nowrap">Equations&nbsp;(Default:&nbsp;f=Sigmoid,&nbsp;g=Tanh,&nbsp;h=Tanh):</td><td class="diff_next"></td><td class="diff_header" id="to96_68">68</td><td nowrap="nowrap">Equations&nbsp;(Default:&nbsp;f=Sigmoid,&nbsp;g=Tanh,&nbsp;h=Tanh):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_69">69</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_69">69</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;it&nbsp;=&nbsp;f(Xt*(Wi^T)&nbsp;+&nbsp;Ht-1*(Ri^T)&nbsp;+&nbsp;Pi&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbi&nbsp;+&nbsp;Rbi)</td><td class="diff_next"></td><td class="diff_header" id="to96_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;it&nbsp;=&nbsp;f(Xt*(Wi^T)&nbsp;+&nbsp;Ht-1*(Ri^T)&nbsp;+&nbsp;Pi&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbi&nbsp;+&nbsp;Rbi)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_71">71</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_71">71</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ft&nbsp;=&nbsp;f(Xt*(Wf^T)&nbsp;+&nbsp;Ht-1*(Rf^T)&nbsp;+&nbsp;Pf&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbf&nbsp;+&nbsp;Rbf)</td><td class="diff_next"></td><td class="diff_header" id="to96_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ft&nbsp;=&nbsp;f(Xt*(Wf^T)&nbsp;+&nbsp;Ht-1*(Rf^T)&nbsp;+&nbsp;Pf&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbf&nbsp;+&nbsp;Rbf)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_73">73</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_73">73</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ct&nbsp;=&nbsp;g(Xt*(Wc^T)&nbsp;+&nbsp;Ht-1*(Rc^T)&nbsp;+&nbsp;Wbc&nbsp;+&nbsp;Rbc)</td><td class="diff_next"></td><td class="diff_header" id="to96_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ct&nbsp;=&nbsp;g(Xt*(Wc^T)&nbsp;+&nbsp;Ht-1*(Rc^T)&nbsp;+&nbsp;Wbc&nbsp;+&nbsp;Rbc)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_75">75</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_75">75</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ct&nbsp;=&nbsp;ft&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;it&nbsp;(.)&nbsp;ct</td><td class="diff_next"></td><td class="diff_header" id="to96_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ct&nbsp;=&nbsp;ft&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;it&nbsp;(.)&nbsp;ct</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_77">77</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_77">77</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_78">78</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ot&nbsp;=&nbsp;f(Xt*(Wo^T)&nbsp;+&nbsp;Ht-1*(Ro^T)&nbsp;+&nbsp;Po&nbsp;(.)&nbsp;Ct&nbsp;+&nbsp;Wbo&nbsp;+&nbsp;Rbo)</td><td class="diff_next"></td><td class="diff_header" id="to96_78">78</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ot&nbsp;=&nbsp;f(Xt*(Wo^T)&nbsp;+&nbsp;Ht-1*(Ro^T)&nbsp;+&nbsp;Po&nbsp;(.)&nbsp;Ct&nbsp;+&nbsp;Wbo&nbsp;+&nbsp;Rbo)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_79">79</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_79">79</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ht&nbsp;=&nbsp;ot&nbsp;(.)&nbsp;h(Ct)</td><td class="diff_next"></td><td class="diff_header" id="to96_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ht&nbsp;=&nbsp;ot&nbsp;(.)&nbsp;h(Ct)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_81">81</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td><td class="diff_next"></td><td class="diff_header" id="to96_81">81</td><td nowrap="nowrap">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_82">82</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_82">82</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_83">83</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to96_83">83</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_84">84</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_84">84</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_85">85</td><td nowrap="nowrap">*&nbsp;**activation_alpha**:</td><td class="diff_next"></td><td class="diff_header" id="to96_85">85</td><td nowrap="nowrap">*&nbsp;**activation_alpha**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td><td class="diff_next"></td><td class="diff_header" id="to96_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td><td class="diff_next"></td><td class="diff_header" id="to96_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to96_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.For&nbsp;example&nbsp;with&nbsp;LeakyRelu,&nbsp;the&nbsp;default</td><td class="diff_next"></td><td class="diff_header" id="to96_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.For&nbsp;example&nbsp;with&nbsp;LeakyRelu,&nbsp;the&nbsp;default</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_90">90</td><td nowrap="nowrap">&nbsp;&nbsp;alpha&nbsp;is&nbsp;0.01.</td><td class="diff_next"></td><td class="diff_header" id="to96_90">90</td><td nowrap="nowrap">&nbsp;&nbsp;alpha&nbsp;is&nbsp;0.01.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_91">91</td><td nowrap="nowrap">*&nbsp;**activation_beta**:</td><td class="diff_next"></td><td class="diff_header" id="to96_91">91</td><td nowrap="nowrap">*&nbsp;**activation_beta**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td><td class="diff_next"></td><td class="diff_header" id="to96_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td><td class="diff_next"></td><td class="diff_header" id="to96_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to96_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.</td><td class="diff_next"></td><td class="diff_header" id="to96_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_96">96</td><td nowrap="nowrap">*&nbsp;**activations**:</td><td class="diff_next"></td><td class="diff_header" id="to96_96">96</td><td nowrap="nowrap">*&nbsp;**activations**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;list&nbsp;of&nbsp;3&nbsp;(or&nbsp;6&nbsp;if&nbsp;bidirectional)&nbsp;activation&nbsp;functions&nbsp;for&nbsp;input,</td><td class="diff_next"></td><td class="diff_header" id="to96_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;list&nbsp;of&nbsp;3&nbsp;(or&nbsp;6&nbsp;if&nbsp;bidirectional)&nbsp;activation&nbsp;functions&nbsp;for&nbsp;input,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;output,&nbsp;forget,&nbsp;cell,&nbsp;and&nbsp;hidden.&nbsp;The&nbsp;activation&nbsp;functions&nbsp;must&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to96_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;output,&nbsp;forget,&nbsp;cell,&nbsp;and&nbsp;hidden.&nbsp;The&nbsp;activation&nbsp;functions&nbsp;must&nbsp;be</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;the&nbsp;activation&nbsp;functions&nbsp;specified&nbsp;above.&nbsp;Optional:&nbsp;See&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to96_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;the&nbsp;activation&nbsp;functions&nbsp;specified&nbsp;above.&nbsp;Optional:&nbsp;See&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;equations&nbsp;for&nbsp;default&nbsp;if&nbsp;not&nbsp;specified.</td><td class="diff_next"></td><td class="diff_header" id="to96_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;equations&nbsp;for&nbsp;default&nbsp;if&nbsp;not&nbsp;specified.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_101">101</td><td nowrap="nowrap">*&nbsp;**clip**:</td><td class="diff_next"></td><td class="diff_header" id="to96_101">101</td><td nowrap="nowrap">*&nbsp;**clip**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;Cell&nbsp;clip&nbsp;threshold.&nbsp;Clipping&nbsp;bounds&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;tensor&nbsp;in&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to96_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;Cell&nbsp;clip&nbsp;threshold.&nbsp;Clipping&nbsp;bounds&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;tensor&nbsp;in&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;range&nbsp;of&nbsp;[-threshold,&nbsp;+threshold]&nbsp;and&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;input&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to96_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;range&nbsp;of&nbsp;[-threshold,&nbsp;+threshold]&nbsp;and&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;input&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;activations.&nbsp;No&nbsp;clip&nbsp;if&nbsp;not&nbsp;specified.</td><td class="diff_next"></td><td class="diff_header" id="to96_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;activations.&nbsp;No&nbsp;clip&nbsp;if&nbsp;not&nbsp;specified.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_105">105</td><td nowrap="nowrap">*&nbsp;**direction**:</td><td class="diff_next"></td><td class="diff_header" id="to96_105">105</td><td nowrap="nowrap">*&nbsp;**direction**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;Specify&nbsp;if&nbsp;the&nbsp;RNN&nbsp;is&nbsp;forward,&nbsp;reverse,&nbsp;or&nbsp;bidirectional.&nbsp;Must&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to96_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;Specify&nbsp;if&nbsp;the&nbsp;RNN&nbsp;is&nbsp;forward,&nbsp;reverse,&nbsp;or&nbsp;bidirectional.&nbsp;Must&nbsp;be</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to96__0"></td><td class="diff_header" id="from96_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;forward&nbsp;(default),&nbsp;reverse,&nbsp;or&nbsp;bidirectional.</td><td class="diff_next"></td><td class="diff_header" id="to96_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;forward&nbsp;(default),&nbsp;reverse,&nbsp;or&nbsp;bidirectional.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_108">108</td><td nowrap="nowrap">*&nbsp;**hidden_size**:</td><td class="diff_next"></td><td class="diff_header" id="to96_108">108</td><td nowrap="nowrap">*&nbsp;**hidden_size**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;Number&nbsp;of&nbsp;neurons&nbsp;in&nbsp;the&nbsp;hidden&nbsp;layer</td><td class="diff_next"></td><td class="diff_header" id="to96_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;Number&nbsp;of&nbsp;neurons&nbsp;in&nbsp;the&nbsp;hidden&nbsp;layer</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_110">110</td><td nowrap="nowrap">*&nbsp;**input_forget**:</td><td class="diff_next"></td><td class="diff_header" id="to96_110">110</td><td nowrap="nowrap">*&nbsp;**input_forget**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;Couple&nbsp;the&nbsp;input&nbsp;and&nbsp;forget&nbsp;gates&nbsp;if&nbsp;1.</td><td class="diff_next"></td><td class="diff_header" id="to96_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;Couple&nbsp;the&nbsp;input&nbsp;and&nbsp;forget&nbsp;gates&nbsp;if&nbsp;1.</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to96__top">t</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to96__top">t</a></td><td class="diff_header" id="to96_112">112</td><td nowrap="nowrap"><span class="diff_add">*&nbsp;**layout**:</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_113">113</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;The&nbsp;shape&nbsp;format&nbsp;of&nbsp;inputs&nbsp;X,&nbsp;initial_h,&nbsp;initial_c&nbsp;and&nbsp;outputs&nbsp;Y,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_114">114</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Y_h,&nbsp;Y_c.&nbsp;If&nbsp;0,&nbsp;the&nbsp;following&nbsp;shapes&nbsp;are&nbsp;expected:&nbsp;X.shape&nbsp;=</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_115">115</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;[seq_length,&nbsp;batch_size,&nbsp;input_size],&nbsp;Y.shape&nbsp;=&nbsp;[seq_length,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_116">116</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;num_directions,&nbsp;batch_size,&nbsp;hidden_size],&nbsp;initial_h.shape&nbsp;=</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_117">117</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;Y_h.shape&nbsp;=&nbsp;initial_c.shape&nbsp;=&nbsp;Y_c.shape&nbsp;=&nbsp;[num_directions,</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_118">118</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].&nbsp;If&nbsp;1,&nbsp;the&nbsp;following&nbsp;shapes&nbsp;are&nbsp;expected:</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_119">119</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;X.shape&nbsp;=&nbsp;[batch_size,&nbsp;seq_length,&nbsp;input_size],&nbsp;Y.shape&nbsp;=</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_120">120</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;[batch_size,&nbsp;seq_length,&nbsp;num_directions,&nbsp;hidden_size],</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_121">121</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;initial_h.shape&nbsp;=&nbsp;Y_h.shape&nbsp;=&nbsp;initial_c.shape&nbsp;=&nbsp;Y_c.shape&nbsp;=</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_122">122</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;[batch_size,&nbsp;num_directions,&nbsp;hidden_size].</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_112">112</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_123">123</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_113">113</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to96_124">124</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_114">114</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_125">125</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_115">115</td><td nowrap="nowrap">Between&nbsp;3&nbsp;and&nbsp;8&nbsp;inputs.</td><td class="diff_next"></td><td class="diff_header" id="to96_126">126</td><td nowrap="nowrap">Between&nbsp;3&nbsp;and&nbsp;8&nbsp;inputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_116">116</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_127">127</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_117">117</td><td nowrap="nowrap">*&nbsp;**X**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_128">128</td><td nowrap="nowrap">*&nbsp;**X**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_118">118</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;sequences&nbsp;packed&nbsp;(and&nbsp;potentially&nbsp;padded)&nbsp;into&nbsp;one&nbsp;3-D</td><td class="diff_next"></td><td class="diff_header" id="to96_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;sequences&nbsp;packed&nbsp;(and&nbsp;potentially&nbsp;padded)&nbsp;into&nbsp;one&nbsp;3-D</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;tensor&nbsp;with&nbsp;the&nbsp;shape&nbsp;of&nbsp;[seq_length,&nbsp;batch_size,&nbsp;input_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;tensor&nbsp;with&nbsp;the&nbsp;shape&nbsp;of&nbsp;[seq_length,&nbsp;batch_size,&nbsp;input_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_120">120</td><td nowrap="nowrap">*&nbsp;**W**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_131">131</td><td nowrap="nowrap">*&nbsp;**W**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_121">121</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;the&nbsp;gates.&nbsp;Concatenation&nbsp;of&nbsp;W[iofc]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to96_132">132</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;the&nbsp;gates.&nbsp;Concatenation&nbsp;of&nbsp;W[iofc]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_122">122</td><td nowrap="nowrap">&nbsp;&nbsp;WB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;The&nbsp;tensor&nbsp;has</td><td class="diff_next"></td><td class="diff_header" id="to96_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;WB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;The&nbsp;tensor&nbsp;has</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;input_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;input_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_124">124</td><td nowrap="nowrap">*&nbsp;**R**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_135">135</td><td nowrap="nowrap">*&nbsp;**R**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;recurrence&nbsp;weight&nbsp;tensor.&nbsp;Concatenation&nbsp;of&nbsp;R[iofc]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to96_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;recurrence&nbsp;weight&nbsp;tensor.&nbsp;Concatenation&nbsp;of&nbsp;R[iofc]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;RB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has</td><td class="diff_next"></td><td class="diff_header" id="to96_137">137</td><td nowrap="nowrap">&nbsp;&nbsp;RB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_128">128</td><td nowrap="nowrap">*&nbsp;**B**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_139">139</td><td nowrap="nowrap">*&nbsp;**B**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;bias&nbsp;tensor&nbsp;for&nbsp;input&nbsp;gate.&nbsp;Concatenation&nbsp;of&nbsp;[Wb[iofc],</td><td class="diff_next"></td><td class="diff_header" id="to96_140">140</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;bias&nbsp;tensor&nbsp;for&nbsp;input&nbsp;gate.&nbsp;Concatenation&nbsp;of&nbsp;[Wb[iofc],</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;Rb[iofc]],&nbsp;and&nbsp;[WBb[iofc],&nbsp;RBb[iofc]]&nbsp;(if&nbsp;bidirectional)&nbsp;along</td><td class="diff_next"></td><td class="diff_header" id="to96_141">141</td><td nowrap="nowrap">&nbsp;&nbsp;Rb[iofc]],&nbsp;and&nbsp;[WBb[iofc],&nbsp;RBb[iofc]]&nbsp;(if&nbsp;bidirectional)&nbsp;along</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_131">131</td><td nowrap="nowrap">&nbsp;&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to96_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_132">132</td><td nowrap="nowrap">&nbsp;&nbsp;8*hidden_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td><td class="diff_next"></td><td class="diff_header" id="to96_143">143</td><td nowrap="nowrap">&nbsp;&nbsp;8*hidden_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_133">133</td><td nowrap="nowrap">*&nbsp;**sequence_lens**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td><td class="diff_next"></td><td class="diff_header" id="to96_144">144</td><td nowrap="nowrap">*&nbsp;**sequence_lens**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;tensor&nbsp;specifying&nbsp;lengths&nbsp;of&nbsp;the&nbsp;sequences&nbsp;in&nbsp;a&nbsp;batch.&nbsp;If</td><td class="diff_next"></td><td class="diff_header" id="to96_145">145</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;tensor&nbsp;specifying&nbsp;lengths&nbsp;of&nbsp;the&nbsp;sequences&nbsp;in&nbsp;a&nbsp;batch.&nbsp;If</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;all&nbsp;sequences&nbsp;in&nbsp;the&nbsp;batch&nbsp;to&nbsp;have&nbsp;length</td><td class="diff_next"></td><td class="diff_header" id="to96_146">146</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;all&nbsp;sequences&nbsp;in&nbsp;the&nbsp;batch&nbsp;to&nbsp;have&nbsp;length</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;seq_length.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[batch_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;seq_length.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[batch_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_137">137</td><td nowrap="nowrap">*&nbsp;**initial_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_148">148</td><td nowrap="nowrap">*&nbsp;**initial_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to</td><td class="diff_next"></td><td class="diff_header" id="to96_149">149</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_139">139</td><td nowrap="nowrap">&nbsp;&nbsp;be&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_150">150</td><td nowrap="nowrap">&nbsp;&nbsp;be&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_140">140</td><td nowrap="nowrap">*&nbsp;**initial_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_151">151</td><td nowrap="nowrap">*&nbsp;**initial_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_141">141</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to96_152">152</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_153">153</td><td nowrap="nowrap">&nbsp;&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_143">143</td><td nowrap="nowrap">*&nbsp;**P**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_154">154</td><td nowrap="nowrap">*&nbsp;**P**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_144">144</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;peepholes.&nbsp;Concatenation&nbsp;of&nbsp;P[iof]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to96_155">155</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;peepholes.&nbsp;Concatenation&nbsp;of&nbsp;P[iof]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_145">145</td><td nowrap="nowrap">&nbsp;&nbsp;PB[iof]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape</td><td class="diff_next"></td><td class="diff_header" id="to96_156">156</td><td nowrap="nowrap">&nbsp;&nbsp;PB[iof]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_146">146</td><td nowrap="nowrap">&nbsp;&nbsp;[num_directions,&nbsp;3*hidde_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-</td><td class="diff_next"></td><td class="diff_header" id="to96_157">157</td><td nowrap="nowrap">&nbsp;&nbsp;[num_directions,&nbsp;3*hidde_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td><td class="diff_next"></td><td class="diff_header" id="to96_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_148">148</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_159">159</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_149">149</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to96_160">160</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_150">150</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_161">161</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_151">151</td><td nowrap="nowrap">Between&nbsp;0&nbsp;and&nbsp;3&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to96_162">162</td><td nowrap="nowrap">Between&nbsp;0&nbsp;and&nbsp;3&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_152">152</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_163">163</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_153">153</td><td nowrap="nowrap">*&nbsp;**Y**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_164">164</td><td nowrap="nowrap">*&nbsp;**Y**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_154">154</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;tensor&nbsp;that&nbsp;concats&nbsp;all&nbsp;the&nbsp;intermediate&nbsp;output&nbsp;values&nbsp;of&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to96_165">165</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;tensor&nbsp;that&nbsp;concats&nbsp;all&nbsp;the&nbsp;intermediate&nbsp;output&nbsp;values&nbsp;of&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_155">155</td><td nowrap="nowrap">&nbsp;&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[seq_length,&nbsp;num_directions,&nbsp;batch_size,</td><td class="diff_next"></td><td class="diff_header" id="to96_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[seq_length,&nbsp;num_directions,&nbsp;batch_size,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_156">156</td><td nowrap="nowrap">&nbsp;&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_157">157</td><td nowrap="nowrap">*&nbsp;**Y_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_168">168</td><td nowrap="nowrap">*&nbsp;**Y_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to96_169">169</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_160">160</td><td nowrap="nowrap">*&nbsp;**Y_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to96_171">171</td><td nowrap="nowrap">*&nbsp;**Y_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to96_172">172</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_162">162</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to96_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_163">163</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_174">174</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_164">164</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to96_175">175</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_165">165</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to96_176">176</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_166">166</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to96_177">177</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to96_178">178</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to96_179">179</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_169">169</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to96_180">180</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to96_181">181</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_171">171</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to96_182">182</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_172">172</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to96_183">183</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(int32)</td><td class="diff_next"></td><td class="diff_header" id="to96_184">184</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(int32)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_174">174</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to96_185">185</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from96_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;seq_lens&nbsp;to&nbsp;integer&nbsp;tensor.</td><td class="diff_next"></td><td class="diff_header" id="to96_186">186</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;seq_lens&nbsp;to&nbsp;integer&nbsp;tensor.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-lstm-7:

LSTM - 7
========

**Version**

* **name**: `LSTM (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#LSTM>`_
* **domain**: **main**
* **since_version**: **7**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 7**.

**Summary**

Computes an one-layer LSTM. This operator is usually supported via some
custom implementation such as CuDNN.

Notations:

`X` - input tensor

`i` - input gate

`o` - output gate

`f` - forget gate

`c` - cell gate

`t` - time step (t-1 means previous time step)

`W[iofc]` - W parameter weight matrix for input, output, forget, and cell gates

`R[iofc]` - R recurrence weight matrix for input, output, forget, and cell gates

`Wb[iofc]` - W bias vectors for input, output, forget, and cell gates

`Rb[iofc]` - R bias vectors for input, output, forget, and cell gates

`P[iof]`  - P peephole weight vector for input, output, and forget gates

`WB[iofc]` - W parameter weight matrix for backward input, output, forget, and cell gates

`RB[iofc]` - R recurrence weight matrix for backward input, output, forget, and cell gates

`WBb[iofc]` - W bias vectors for backward input, output, forget, and cell gates

`RBb[iofc]` - R bias vectors for backward input, output, forget, and cell gates

`PB[iof]`  - P peephole weight vector for backward input, output, and forget gates

`H` - Hidden state

`num_directions` - 2 if direction == bidirectional else 1

Activation functions:

  Relu(x)                - max(0, x)

  Tanh(x)                - (1 - e^{-2x})/(1 + e^{-2x})

  Sigmoid(x)             - 1/(1 + e^{-x})

  (NOTE: Below are optional)

  Affine(x)              - alpha*x + beta

  LeakyRelu(x)           - x if x >= 0 else alpha * x

  ThresholdedRelu(x)     - x if x >= alpha else 0

  ScaledTanh(x)          - alpha*Tanh(beta*x)

  HardSigmoid(x)         - min(max(alpha*x + beta, 0), 1)

  Elu(x)                 - x if x >= 0 else alpha*(e^x - 1)

  Softsign(x)            - x/(1 + |x|)

  Softplus(x)            - log(1 + e^x)

Equations (Default: f=Sigmoid, g=Tanh, h=Tanh):

  - it = f(Xt*(Wi^T) + Ht-1*(Ri^T) + Pi (.) Ct-1 + Wbi + Rbi)

  - ft = f(Xt*(Wf^T) + Ht-1*(Rf^T) + Pf (.) Ct-1 + Wbf + Rbf)

  - ct = g(Xt*(Wc^T) + Ht-1*(Rc^T) + Wbc + Rbc)

  - Ct = ft (.) Ct-1 + it (.) ct

  - ot = f(Xt*(Wo^T) + Ht-1*(Ro^T) + Po (.) Ct + Wbo + Rbo)

  - Ht = ot (.) h(Ct)
This operator has **optional** inputs/outputs. See `ONNX <https://github.com/onnx/onnx/blob/master/docs/IR.md>`_ for more details about the representation of optional arguments. An empty string may be used in the place of an actual argument's name to indicate a missing argument. Trailing optional arguments (those not followed by an argument that is present) may also be simply omitted.

**Attributes**

* **activation_alpha**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.For example with LeakyRelu, the default
  alpha is 0.01.
* **activation_beta**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.
* **activations**:
  A list of 3 (or 6 if bidirectional) activation functions for input,
  output, forget, cell, and hidden. The activation functions must be
  one of the activation functions specified above. Optional: See the
  equations for default if not specified.
* **clip**:
  Cell clip threshold. Clipping bounds the elements of a tensor in the
  range of [-threshold, +threshold] and is applied to the input of
  activations. No clip if not specified.
* **direction**:
  Specify if the RNN is forward, reverse, or bidirectional. Must be
  one of forward (default), reverse, or bidirectional.
* **hidden_size**:
  Number of neurons in the hidden layer
* **input_forget**:
  Couple the input and forget gates if 1.

**Inputs**

Between 3 and 8 inputs.

* **X** (heterogeneous) - **T**:
  The input sequences packed (and potentially padded) into one 3-D
  tensor with the shape of `[seq_length, batch_size, input_size]`.
* **W** (heterogeneous) - **T**:
  The weight tensor for the gates. Concatenation of `W[iofc]` and
  `WB[iofc]` (if bidirectional) along dimension 0. The tensor has
  shape `[num_directions, 4*hidden_size, input_size]`.
* **R** (heterogeneous) - **T**:
  The recurrence weight tensor. Concatenation of `R[iofc]` and
  `RB[iofc]` (if bidirectional) along dimension 0. This tensor has
  shape `[num_directions, 4*hidden_size, hidden_size]`.
* **B** (optional, heterogeneous) - **T**:
  The bias tensor for input gate. Concatenation of `[Wb[iofc],
  Rb[iofc]]`, and `[WBb[iofc], RBb[iofc]]` (if bidirectional) along
  dimension 0. This tensor has shape `[num_directions,
  8*hidden_size]`. Optional: If not specified - assumed to be 0.
* **sequence_lens** (optional, heterogeneous) - **T1**:
  Optional tensor specifying lengths of the sequences in a batch. If
  not specified - assumed all sequences in the batch to have length
  `seq_length`. It has shape `[batch_size]`.
* **initial_h** (optional, heterogeneous) - **T**:
  Optional initial value of the hidden. If not specified - assumed to
  be 0. It has shape `[num_directions, batch_size, hidden_size]`.
* **initial_c** (optional, heterogeneous) - **T**:
  Optional initial value of the cell. If not specified - assumed to be
  0. It has shape `[num_directions, batch_size, hidden_size]`.
* **P** (optional, heterogeneous) - **T**:
  The weight tensor for peepholes. Concatenation of `P[iof]` and
  `PB[iof]` (if bidirectional) along dimension 0. It has shape
  `[num_directions, 3*hidde_size]`. Optional: If not specified -
  assumed to be 0.

**Outputs**

Between 0 and 3 outputs.

* **Y** (optional, heterogeneous) - **T**:
  A tensor that concats all the intermediate output values of the
  hidden. It has shape `[seq_length, num_directions, batch_size,
  hidden_size]`.
* **Y_h** (optional, heterogeneous) - **T**:
  The last output value of the hidden. It has shape `[num_directions,
  batch_size, hidden_size]`.
* **Y_c** (optional, heterogeneous) - **T**:
  The last output value of the cell. It has shape `[num_directions,
  batch_size, hidden_size]`.

**Type Constraints**

* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(int32)
  ):
  Constrain seq_lens to integer tensor.

**Differences**

.. raw:: html

        <table class="diff" id="difflib_chg_to97__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>

            <tbody>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__0">f</a></td><td class="diff_header" id="from97_1">1</td><td nowrap="nowrap">Computes&nbsp;an&nbsp;one-layer&nbsp;LSTM.&nbsp;This&nbsp;operator&nbsp;is&nbsp;usually&nbsp;supported&nbsp;via&nbsp;some</td><td class="diff_next"><a href="#difflib_chg_to97__0">f</a></td><td class="diff_header" id="to97_1">1</td><td nowrap="nowrap">Computes&nbsp;an&nbsp;one-layer&nbsp;LSTM.&nbsp;This&nbsp;operator&nbsp;is&nbsp;usually&nbsp;supported&nbsp;via&nbsp;some</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_2">2</td><td nowrap="nowrap">custom&nbsp;implementation&nbsp;such&nbsp;as&nbsp;CuDNN.</td><td class="diff_next"></td><td class="diff_header" id="to97_2">2</td><td nowrap="nowrap">custom&nbsp;implementation&nbsp;such&nbsp;as&nbsp;CuDNN.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_3">3</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_3">3</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_4">4</td><td nowrap="nowrap">Notations:</td><td class="diff_next"></td><td class="diff_header" id="to97_4">4</td><td nowrap="nowrap">Notations:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_5">5</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_5">5</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_6">6</td><td nowrap="nowrap">X&nbsp;-&nbsp;input&nbsp;tensor</td><td class="diff_next"></td><td class="diff_header" id="to97_6">6</td><td nowrap="nowrap">X&nbsp;-&nbsp;input&nbsp;tensor</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_7">7</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_7">7</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_8">8</td><td nowrap="nowrap">i&nbsp;-&nbsp;input&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to97_8">8</td><td nowrap="nowrap">i&nbsp;-&nbsp;input&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_9">9</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_9">9</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_10">10</td><td nowrap="nowrap">o&nbsp;-&nbsp;output&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to97_10">10</td><td nowrap="nowrap">o&nbsp;-&nbsp;output&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_11">11</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_11">11</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_12">12</td><td nowrap="nowrap">f&nbsp;-&nbsp;forget&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to97_12">12</td><td nowrap="nowrap">f&nbsp;-&nbsp;forget&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_13">13</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_13">13</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_14">14</td><td nowrap="nowrap">c&nbsp;-&nbsp;cell&nbsp;gate</td><td class="diff_next"></td><td class="diff_header" id="to97_14">14</td><td nowrap="nowrap">c&nbsp;-&nbsp;cell&nbsp;gate</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_15">15</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_15">15</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_16">16</td><td nowrap="nowrap">t&nbsp;-&nbsp;time&nbsp;step&nbsp;(t-1&nbsp;means&nbsp;previous&nbsp;time&nbsp;step)</td><td class="diff_next"></td><td class="diff_header" id="to97_16">16</td><td nowrap="nowrap">t&nbsp;-&nbsp;time&nbsp;step&nbsp;(t-1&nbsp;means&nbsp;previous&nbsp;time&nbsp;step)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_17">17</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_17">17</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_18">18</td><td nowrap="nowrap">W[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_18">18</td><td nowrap="nowrap">W[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_19">19</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_19">19</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_20">20</td><td nowrap="nowrap">R[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_20">20</td><td nowrap="nowrap">R[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_21">21</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_21">21</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_22">22</td><td nowrap="nowrap">Wb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_22">22</td><td nowrap="nowrap">Wb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_23">23</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_23">23</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_24">24</td><td nowrap="nowrap">Rb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_24">24</td><td nowrap="nowrap">Rb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_25">25</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_25">25</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_26">26</td><td nowrap="nowrap">P[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_26">26</td><td nowrap="nowrap">P[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_27">27</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_27">27</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_28">28</td><td nowrap="nowrap">WB[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_28">28</td><td nowrap="nowrap">WB[iofc]&nbsp;-&nbsp;W&nbsp;parameter&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_29">29</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_29">29</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_30">30</td><td nowrap="nowrap">RB[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_30">30</td><td nowrap="nowrap">RB[iofc]&nbsp;-&nbsp;R&nbsp;recurrence&nbsp;weight&nbsp;matrix&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_31">31</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_31">31</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_32">32</td><td nowrap="nowrap">WBb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_32">32</td><td nowrap="nowrap">WBb[iofc]&nbsp;-&nbsp;W&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_33">33</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_33">33</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_34">34</td><td nowrap="nowrap">RBb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_34">34</td><td nowrap="nowrap">RBb[iofc]&nbsp;-&nbsp;R&nbsp;bias&nbsp;vectors&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;forget,&nbsp;and&nbsp;cell&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_35">35</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_35">35</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_36">36</td><td nowrap="nowrap">PB[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td><td class="diff_next"></td><td class="diff_header" id="to97_36">36</td><td nowrap="nowrap">PB[iof]&nbsp;&nbsp;-&nbsp;P&nbsp;peephole&nbsp;weight&nbsp;vector&nbsp;for&nbsp;backward&nbsp;input,&nbsp;output,&nbsp;and&nbsp;forget&nbsp;gates</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_37">37</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_37">37</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_38">38</td><td nowrap="nowrap">H&nbsp;-&nbsp;Hidden&nbsp;state</td><td class="diff_next"></td><td class="diff_header" id="to97_38">38</td><td nowrap="nowrap">H&nbsp;-&nbsp;Hidden&nbsp;state</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_39">39</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_39">39</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_40">40</td><td nowrap="nowrap">num_directions&nbsp;-&nbsp;2&nbsp;if&nbsp;direction&nbsp;==&nbsp;bidirectional&nbsp;else&nbsp;1</td><td class="diff_next"></td><td class="diff_header" id="to97_40">40</td><td nowrap="nowrap">num_directions&nbsp;-&nbsp;2&nbsp;if&nbsp;direction&nbsp;==&nbsp;bidirectional&nbsp;else&nbsp;1</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_41">41</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_41">41</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_42">42</td><td nowrap="nowrap">Activation&nbsp;functions:</td><td class="diff_next"></td><td class="diff_header" id="to97_42">42</td><td nowrap="nowrap">Activation&nbsp;functions:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_43">43</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_43">43</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;Relu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;max(0,&nbsp;x)</td><td class="diff_next"></td><td class="diff_header" id="to97_44">44</td><td nowrap="nowrap">&nbsp;&nbsp;Relu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;max(0,&nbsp;x)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_45">45</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_45">45</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;Tanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(1&nbsp;-&nbsp;e^{-2x})/(1&nbsp;+&nbsp;e^{-2x})</td><td class="diff_next"></td><td class="diff_header" id="to97_46">46</td><td nowrap="nowrap">&nbsp;&nbsp;Tanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;(1&nbsp;-&nbsp;e^{-2x})/(1&nbsp;+&nbsp;e^{-2x})</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_47">47</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_47">47</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;Sigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;1/(1&nbsp;+&nbsp;e^{-x})</td><td class="diff_next"></td><td class="diff_header" id="to97_48">48</td><td nowrap="nowrap">&nbsp;&nbsp;Sigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;1/(1&nbsp;+&nbsp;e^{-x})</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_49">49</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_49">49</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;(NOTE:&nbsp;Below&nbsp;are&nbsp;optional)</td><td class="diff_next"></td><td class="diff_header" id="to97_50">50</td><td nowrap="nowrap">&nbsp;&nbsp;(NOTE:&nbsp;Below&nbsp;are&nbsp;optional)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_51">51</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_51">51</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;Affine(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*x&nbsp;+&nbsp;beta</td><td class="diff_next"></td><td class="diff_header" id="to97_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;Affine(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*x&nbsp;+&nbsp;beta</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_53">53</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_53">53</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;LeakyRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha&nbsp;*&nbsp;x</td><td class="diff_next"></td><td class="diff_header" id="to97_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;LeakyRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha&nbsp;*&nbsp;x</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_55">55</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_55">55</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;ThresholdedRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;alpha&nbsp;else&nbsp;0</td><td class="diff_next"></td><td class="diff_header" id="to97_56">56</td><td nowrap="nowrap">&nbsp;&nbsp;ThresholdedRelu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;alpha&nbsp;else&nbsp;0</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_57">57</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_57">57</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;ScaledTanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*Tanh(beta*x)</td><td class="diff_next"></td><td class="diff_header" id="to97_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;ScaledTanh(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;alpha*Tanh(beta*x)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_59">59</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_59">59</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;HardSigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;min(max(alpha*x&nbsp;+&nbsp;beta,&nbsp;0),&nbsp;1)</td><td class="diff_next"></td><td class="diff_header" id="to97_60">60</td><td nowrap="nowrap">&nbsp;&nbsp;HardSigmoid(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;min(max(alpha*x&nbsp;+&nbsp;beta,&nbsp;0),&nbsp;1)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_61">61</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_61">61</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;Elu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha*(e^x&nbsp;-&nbsp;1)</td><td class="diff_next"></td><td class="diff_header" id="to97_62">62</td><td nowrap="nowrap">&nbsp;&nbsp;Elu(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x&nbsp;if&nbsp;x&nbsp;&gt;=&nbsp;0&nbsp;else&nbsp;alpha*(e^x&nbsp;-&nbsp;1)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_63">63</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_63">63</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;Softsign(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x/(1&nbsp;+&nbsp;|x|)</td><td class="diff_next"></td><td class="diff_header" id="to97_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;Softsign(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;x/(1&nbsp;+&nbsp;|x|)</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__0"></td><td class="diff_header" id="from97_65">65</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_65">65</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;Softplus(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;log(1&nbsp;+&nbsp;e^x)</td><td class="diff_next"></td><td class="diff_header" id="to97_66">66</td><td nowrap="nowrap">&nbsp;&nbsp;Softplus(x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;log(1&nbsp;+&nbsp;e^x)</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__1"></td><td class="diff_header" id="from97_67">67</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_67">67</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_68">68</td><td nowrap="nowrap">Equations&nbsp;(Default:&nbsp;f=Sigmoid,&nbsp;g=Tanh,&nbsp;h=Tanh):</td><td class="diff_next"></td><td class="diff_header" id="to97_68">68</td><td nowrap="nowrap">Equations&nbsp;(Default:&nbsp;f=Sigmoid,&nbsp;g=Tanh,&nbsp;h=Tanh):</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__2"></td><td class="diff_header" id="from97_69">69</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_69">69</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__1">n</a></td><td class="diff_header" id="from97_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;it&nbsp;=&nbsp;f(Xt*(Wi^T)&nbsp;+&nbsp;Ht-1*Ri&nbsp;+&nbsp;Pi&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbi&nbsp;+&nbsp;Rbi)</td><td class="diff_next"><a href="#difflib_chg_to97__1">n</a></td><td class="diff_header" id="to97_70">70</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;it&nbsp;=&nbsp;f(Xt*(Wi^T)&nbsp;+&nbsp;Ht-1*<span class="diff_add">(</span>Ri<span class="diff_add">^T)</span>&nbsp;+&nbsp;Pi&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbi&nbsp;+&nbsp;Rbi)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_71">71</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_71">71</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__2">n</a></td><td class="diff_header" id="from97_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ft&nbsp;=&nbsp;f(Xt*(Wf^T)&nbsp;+&nbsp;Ht-1*Rf&nbsp;+&nbsp;Pf&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbf&nbsp;+&nbsp;Rbf)</td><td class="diff_next"><a href="#difflib_chg_to97__2">n</a></td><td class="diff_header" id="to97_72">72</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ft&nbsp;=&nbsp;f(Xt*(Wf^T)&nbsp;+&nbsp;Ht-1*<span class="diff_add">(</span>Rf<span class="diff_add">^T)</span>&nbsp;+&nbsp;Pf&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;Wbf&nbsp;+&nbsp;Rbf)</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__3"></td><td class="diff_header" id="from97_73">73</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_73">73</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__3">n</a></td><td class="diff_header" id="from97_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ct&nbsp;=&nbsp;g(Xt*(Wc^T)&nbsp;+&nbsp;Ht-1*Rc&nbsp;+&nbsp;Wbc&nbsp;+&nbsp;Rbc)</td><td class="diff_next"><a href="#difflib_chg_to97__3">n</a></td><td class="diff_header" id="to97_74">74</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ct&nbsp;=&nbsp;g(Xt*(Wc^T)&nbsp;+&nbsp;Ht-1*<span class="diff_add">(</span>Rc<span class="diff_add">^T)</span>&nbsp;+&nbsp;Wbc&nbsp;+&nbsp;Rbc)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_75">75</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_75">75</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__4"></td><td class="diff_header" id="from97_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ct&nbsp;=&nbsp;ft&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;it&nbsp;(.)&nbsp;ct</td><td class="diff_next"></td><td class="diff_header" id="to97_76">76</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ct&nbsp;=&nbsp;ft&nbsp;(.)&nbsp;Ct-1&nbsp;+&nbsp;it&nbsp;(.)&nbsp;ct</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_77">77</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_77">77</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__4">n</a></td><td class="diff_header" id="from97_78">78</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ot&nbsp;=&nbsp;f(Xt*(Wo^T)&nbsp;+&nbsp;Ht-1*Ro&nbsp;+&nbsp;Po&nbsp;(.)&nbsp;Ct&nbsp;+&nbsp;Wbo&nbsp;+&nbsp;Rbo)</td><td class="diff_next"><a href="#difflib_chg_to97__4">n</a></td><td class="diff_header" id="to97_78">78</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;ot&nbsp;=&nbsp;f(Xt*(Wo^T)&nbsp;+&nbsp;Ht-1*<span class="diff_add">(</span>Ro<span class="diff_add">^T)</span>&nbsp;+&nbsp;Po&nbsp;(.)&nbsp;Ct&nbsp;+&nbsp;Wbo&nbsp;+&nbsp;Rbo)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_79">79</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_79">79</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ht&nbsp;=&nbsp;ot&nbsp;(.)&nbsp;h(Ct)</td><td class="diff_next"></td><td class="diff_header" id="to97_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;-&nbsp;Ht&nbsp;=&nbsp;ot&nbsp;(.)&nbsp;h(Ct)</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__5">n</a></td><td class="diff_header"></td><td nowrap="nowrap"></td><td class="diff_next"><a href="#difflib_chg_to97__5">n</a></td><td class="diff_header" id="to97_81">81</td><td nowrap="nowrap"><span class="diff_add">This&nbsp;operator&nbsp;has&nbsp;**optional**&nbsp;inputs/outputs.&nbsp;See&nbsp;ONNX&nbsp;&lt;https://github.com/onnx/onnx/blob/master/docs/IR.md&gt;_&nbsp;for&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;representation&nbsp;of&nbsp;optional&nbsp;arguments.&nbsp;An&nbsp;empty&nbsp;string&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;place&nbsp;of&nbsp;an&nbsp;actual&nbsp;argument's&nbsp;name&nbsp;to&nbsp;indicate&nbsp;a&nbsp;missing&nbsp;argument.&nbsp;Trailing&nbsp;optional&nbsp;arguments&nbsp;(those&nbsp;not&nbsp;followed&nbsp;by&nbsp;an&nbsp;argument&nbsp;that&nbsp;is&nbsp;present)&nbsp;may&nbsp;also&nbsp;be&nbsp;simply&nbsp;omitted.</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_81">81</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_82">82</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_82">82</td><td nowrap="nowrap">**Attributes**</td><td class="diff_next"></td><td class="diff_header" id="to97_83">83</td><td nowrap="nowrap">**Attributes**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_83">83</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_84">84</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_84">84</td><td nowrap="nowrap">*&nbsp;**activation_alpha**:</td><td class="diff_next"></td><td class="diff_header" id="to97_85">85</td><td nowrap="nowrap">*&nbsp;**activation_alpha**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_85">85</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td><td class="diff_next"></td><td class="diff_header" id="to97_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_86">86</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td><td class="diff_next"></td><td class="diff_header" id="to97_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_87">87</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to97_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.For&nbsp;example&nbsp;with&nbsp;LeakyRelu,&nbsp;the&nbsp;default</td><td class="diff_next"></td><td class="diff_header" id="to97_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.For&nbsp;example&nbsp;with&nbsp;LeakyRelu,&nbsp;the&nbsp;default</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;alpha&nbsp;is&nbsp;0.01.</td><td class="diff_next"></td><td class="diff_header" id="to97_90">90</td><td nowrap="nowrap">&nbsp;&nbsp;alpha&nbsp;is&nbsp;0.01.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_90">90</td><td nowrap="nowrap">*&nbsp;**activation_beta**:</td><td class="diff_next"></td><td class="diff_header" id="to97_91">91</td><td nowrap="nowrap">*&nbsp;**activation_beta**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_91">91</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td><td class="diff_next"></td><td class="diff_header" id="to97_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;scaling&nbsp;values&nbsp;used&nbsp;by&nbsp;some&nbsp;activation&nbsp;functions.&nbsp;The</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td><td class="diff_next"></td><td class="diff_header" id="to97_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;values&nbsp;are&nbsp;consumed&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;activation&nbsp;functions,&nbsp;for</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to97_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;example&nbsp;(f,&nbsp;g,&nbsp;h)&nbsp;in&nbsp;LSTM.&nbsp;Default&nbsp;values&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.</td><td class="diff_next"></td><td class="diff_header" id="to97_95">95</td><td nowrap="nowrap">&nbsp;&nbsp;corresponding&nbsp;ONNX&nbsp;operators.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_95">95</td><td nowrap="nowrap">*&nbsp;**activations**:</td><td class="diff_next"></td><td class="diff_header" id="to97_96">96</td><td nowrap="nowrap">*&nbsp;**activations**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_96">96</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;list&nbsp;of&nbsp;3&nbsp;(or&nbsp;6&nbsp;if&nbsp;bidirectional)&nbsp;activation&nbsp;functions&nbsp;for&nbsp;input,</td><td class="diff_next"></td><td class="diff_header" id="to97_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;list&nbsp;of&nbsp;3&nbsp;(or&nbsp;6&nbsp;if&nbsp;bidirectional)&nbsp;activation&nbsp;functions&nbsp;for&nbsp;input,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;output,&nbsp;forget,&nbsp;cell,&nbsp;and&nbsp;hidden.&nbsp;The&nbsp;activation&nbsp;functions&nbsp;must&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to97_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;output,&nbsp;forget,&nbsp;cell,&nbsp;and&nbsp;hidden.&nbsp;The&nbsp;activation&nbsp;functions&nbsp;must&nbsp;be</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;the&nbsp;activation&nbsp;functions&nbsp;specified&nbsp;above.&nbsp;Optional:&nbsp;See&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to97_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;the&nbsp;activation&nbsp;functions&nbsp;specified&nbsp;above.&nbsp;Optional:&nbsp;See&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;equations&nbsp;for&nbsp;default&nbsp;if&nbsp;not&nbsp;specified.</td><td class="diff_next"></td><td class="diff_header" id="to97_100">100</td><td nowrap="nowrap">&nbsp;&nbsp;equations&nbsp;for&nbsp;default&nbsp;if&nbsp;not&nbsp;specified.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_100">100</td><td nowrap="nowrap">*&nbsp;**clip**:</td><td class="diff_next"></td><td class="diff_header" id="to97_101">101</td><td nowrap="nowrap">*&nbsp;**clip**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_101">101</td><td nowrap="nowrap">&nbsp;&nbsp;Cell&nbsp;clip&nbsp;threshold.&nbsp;Clipping&nbsp;bounds&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;tensor&nbsp;in&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to97_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;Cell&nbsp;clip&nbsp;threshold.&nbsp;Clipping&nbsp;bounds&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;tensor&nbsp;in&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;range&nbsp;of&nbsp;[-threshold,&nbsp;+threshold]&nbsp;and&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;input&nbsp;of</td><td class="diff_next"></td><td class="diff_header" id="to97_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;range&nbsp;of&nbsp;[-threshold,&nbsp;+threshold]&nbsp;and&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;input&nbsp;of</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;activations.&nbsp;No&nbsp;clip&nbsp;if&nbsp;not&nbsp;specified.</td><td class="diff_next"></td><td class="diff_header" id="to97_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;activations.&nbsp;No&nbsp;clip&nbsp;if&nbsp;not&nbsp;specified.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_104">104</td><td nowrap="nowrap">*&nbsp;**direction**:</td><td class="diff_next"></td><td class="diff_header" id="to97_105">105</td><td nowrap="nowrap">*&nbsp;**direction**:</td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__5"></td><td class="diff_header" id="from97_105">105</td><td nowrap="nowrap">&nbsp;&nbsp;Specify&nbsp;if&nbsp;the&nbsp;RNN&nbsp;is&nbsp;forward,&nbsp;reverse,&nbsp;or&nbsp;bidirectional.&nbsp;Must&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to97_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;Specify&nbsp;if&nbsp;the&nbsp;RNN&nbsp;is&nbsp;forward,&nbsp;reverse,&nbsp;or&nbsp;bidirectional.&nbsp;Must&nbsp;be</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_106">106</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;forward&nbsp;(default),&nbsp;reverse,&nbsp;or&nbsp;bidirectional.</td><td class="diff_next"></td><td class="diff_header" id="to97_107">107</td><td nowrap="nowrap">&nbsp;&nbsp;one&nbsp;of&nbsp;forward&nbsp;(default),&nbsp;reverse,&nbsp;or&nbsp;bidirectional.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_107">107</td><td nowrap="nowrap">*&nbsp;**hidden_size**:</td><td class="diff_next"></td><td class="diff_header" id="to97_108">108</td><td nowrap="nowrap">*&nbsp;**hidden_size**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_108">108</td><td nowrap="nowrap">&nbsp;&nbsp;Number&nbsp;of&nbsp;neurons&nbsp;in&nbsp;the&nbsp;hidden&nbsp;layer</td><td class="diff_next"></td><td class="diff_header" id="to97_109">109</td><td nowrap="nowrap">&nbsp;&nbsp;Number&nbsp;of&nbsp;neurons&nbsp;in&nbsp;the&nbsp;hidden&nbsp;layer</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_109">109</td><td nowrap="nowrap">*&nbsp;**input_forget**:</td><td class="diff_next"></td><td class="diff_header" id="to97_110">110</td><td nowrap="nowrap">*&nbsp;**input_forget**:</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__6">n</a></td><td class="diff_header" id="from97_110">110</td><td nowrap="nowrap">&nbsp;&nbsp;Couple&nbsp;the&nbsp;input&nbsp;and&nbsp;forget&nbsp;gates&nbsp;if&nbsp;1<span class="diff_sub">,&nbsp;default&nbsp;0</span>.</td><td class="diff_next"><a href="#difflib_chg_to97__6">n</a></td><td class="diff_header" id="to97_111">111</td><td nowrap="nowrap">&nbsp;&nbsp;Couple&nbsp;the&nbsp;input&nbsp;and&nbsp;forget&nbsp;gates&nbsp;if&nbsp;1.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_111">111</td><td nowrap="nowrap"><span class="diff_sub">*&nbsp;**output_sequence**:</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_112">112</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;The&nbsp;sequence&nbsp;output&nbsp;for&nbsp;the&nbsp;hidden&nbsp;is&nbsp;optional&nbsp;if&nbsp;0.&nbsp;Default&nbsp;0.</span></td><td class="diff_next"></td><td class="diff_header"></td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_113">113</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_112">112</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_114">114</td><td nowrap="nowrap">**Inputs**</td><td class="diff_next"></td><td class="diff_header" id="to97_113">113</td><td nowrap="nowrap">**Inputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_115">115</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_114">114</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_116">116</td><td nowrap="nowrap">Between&nbsp;3&nbsp;and&nbsp;8&nbsp;inputs.</td><td class="diff_next"></td><td class="diff_header" id="to97_115">115</td><td nowrap="nowrap">Between&nbsp;3&nbsp;and&nbsp;8&nbsp;inputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_117">117</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_116">116</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_118">118</td><td nowrap="nowrap">*&nbsp;**X**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_117">117</td><td nowrap="nowrap">*&nbsp;**X**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;sequences&nbsp;packed&nbsp;(and&nbsp;potentially&nbsp;padded)&nbsp;into&nbsp;one&nbsp;3-D</td><td class="diff_next"></td><td class="diff_header" id="to97_118">118</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;input&nbsp;sequences&nbsp;packed&nbsp;(and&nbsp;potentially&nbsp;padded)&nbsp;into&nbsp;one&nbsp;3-D</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_120">120</td><td nowrap="nowrap">&nbsp;&nbsp;tensor&nbsp;with&nbsp;the&nbsp;shape&nbsp;of&nbsp;[seq_length,&nbsp;batch_size,&nbsp;input_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;tensor&nbsp;with&nbsp;the&nbsp;shape&nbsp;of&nbsp;[seq_length,&nbsp;batch_size,&nbsp;input_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_121">121</td><td nowrap="nowrap">*&nbsp;**W**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_120">120</td><td nowrap="nowrap">*&nbsp;**W**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_122">122</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;the&nbsp;gates.&nbsp;Concatenation&nbsp;of&nbsp;W[iofc]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to97_121">121</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;the&nbsp;gates.&nbsp;Concatenation&nbsp;of&nbsp;W[iofc]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;WB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;The&nbsp;tensor&nbsp;has</td><td class="diff_next"></td><td class="diff_header" id="to97_122">122</td><td nowrap="nowrap">&nbsp;&nbsp;WB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;The&nbsp;tensor&nbsp;has</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_124">124</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;input_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_123">123</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;input_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_125">125</td><td nowrap="nowrap">*&nbsp;**R**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_124">124</td><td nowrap="nowrap">*&nbsp;**R**&nbsp;(heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;recurrence&nbsp;weight&nbsp;tensor.&nbsp;Concatenation&nbsp;of&nbsp;R[iofc]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to97_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;recurrence&nbsp;weight&nbsp;tensor.&nbsp;Concatenation&nbsp;of&nbsp;R[iofc]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;RB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has</td><td class="diff_next"></td><td class="diff_header" id="to97_126">126</td><td nowrap="nowrap">&nbsp;&nbsp;RB[iofc]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_128">128</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_127">127</td><td nowrap="nowrap">&nbsp;&nbsp;shape&nbsp;[num_directions,&nbsp;4*hidden_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_129">129</td><td nowrap="nowrap">*&nbsp;**B**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_128">128</td><td nowrap="nowrap">*&nbsp;**B**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;bias&nbsp;tensor&nbsp;for&nbsp;input&nbsp;gate.&nbsp;Concatenation&nbsp;of&nbsp;[Wb[iofc],</td><td class="diff_next"></td><td class="diff_header" id="to97_129">129</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;bias&nbsp;tensor&nbsp;for&nbsp;input&nbsp;gate.&nbsp;Concatenation&nbsp;of&nbsp;[Wb[iofc],</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_131">131</td><td nowrap="nowrap">&nbsp;&nbsp;Rb[iofc]],&nbsp;and&nbsp;[WBb[iofc],&nbsp;RBb[iofc]]&nbsp;(if&nbsp;bidirectional)&nbsp;along</td><td class="diff_next"></td><td class="diff_header" id="to97_130">130</td><td nowrap="nowrap">&nbsp;&nbsp;Rb[iofc]],&nbsp;and&nbsp;[WBb[iofc],&nbsp;RBb[iofc]]&nbsp;(if&nbsp;bidirectional)&nbsp;along</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_132">132</td><td nowrap="nowrap">&nbsp;&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to97_131">131</td><td nowrap="nowrap">&nbsp;&nbsp;dimension&nbsp;0.&nbsp;This&nbsp;tensor&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_133">133</td><td nowrap="nowrap">&nbsp;&nbsp;8*hidden_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td><td class="diff_next"></td><td class="diff_header" id="to97_132">132</td><td nowrap="nowrap">&nbsp;&nbsp;8*hidden_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_134">134</td><td nowrap="nowrap">*&nbsp;**sequence_lens**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td><td class="diff_next"></td><td class="diff_header" id="to97_133">133</td><td nowrap="nowrap">*&nbsp;**sequence_lens**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T1**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;tensor&nbsp;specifying&nbsp;lengths&nbsp;of&nbsp;the&nbsp;sequences&nbsp;in&nbsp;a&nbsp;batch.&nbsp;If</td><td class="diff_next"></td><td class="diff_header" id="to97_134">134</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;tensor&nbsp;specifying&nbsp;lengths&nbsp;of&nbsp;the&nbsp;sequences&nbsp;in&nbsp;a&nbsp;batch.&nbsp;If</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;all&nbsp;sequences&nbsp;in&nbsp;the&nbsp;batch&nbsp;to&nbsp;have&nbsp;length</td><td class="diff_next"></td><td class="diff_header" id="to97_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;all&nbsp;sequences&nbsp;in&nbsp;the&nbsp;batch&nbsp;to&nbsp;have&nbsp;length</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_137">137</td><td nowrap="nowrap">&nbsp;&nbsp;seq_length.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[batch_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;seq_length.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[batch_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_138">138</td><td nowrap="nowrap">*&nbsp;**initial_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_137">137</td><td nowrap="nowrap">*&nbsp;**initial_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_139">139</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to</td><td class="diff_next"></td><td class="diff_header" id="to97_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_140">140</td><td nowrap="nowrap">&nbsp;&nbsp;be&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_139">139</td><td nowrap="nowrap">&nbsp;&nbsp;be&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_141">141</td><td nowrap="nowrap">*&nbsp;**initial_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_140">140</td><td nowrap="nowrap">*&nbsp;**initial_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be</td><td class="diff_next"></td><td class="diff_header" id="to97_141">141</td><td nowrap="nowrap">&nbsp;&nbsp;Optional&nbsp;initial&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;If&nbsp;not&nbsp;specified&nbsp;-&nbsp;assumed&nbsp;to&nbsp;be</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_143">143</td><td nowrap="nowrap">&nbsp;&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_142">142</td><td nowrap="nowrap">&nbsp;&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_144">144</td><td nowrap="nowrap">*&nbsp;**P**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_143">143</td><td nowrap="nowrap">*&nbsp;**P**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_145">145</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;peepholes.&nbsp;Concatenation&nbsp;of&nbsp;P[iof]&nbsp;and</td><td class="diff_next"></td><td class="diff_header" id="to97_144">144</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;weight&nbsp;tensor&nbsp;for&nbsp;peepholes.&nbsp;Concatenation&nbsp;of&nbsp;P[iof]&nbsp;and</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_146">146</td><td nowrap="nowrap">&nbsp;&nbsp;PB[iof]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape</td><td class="diff_next"></td><td class="diff_header" id="to97_145">145</td><td nowrap="nowrap">&nbsp;&nbsp;PB[iof]&nbsp;(if&nbsp;bidirectional)&nbsp;along&nbsp;dimension&nbsp;0.&nbsp;It&nbsp;has&nbsp;shape</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;[num_directions,&nbsp;3*hidde_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-</td><td class="diff_next"></td><td class="diff_header" id="to97_146">146</td><td nowrap="nowrap">&nbsp;&nbsp;[num_directions,&nbsp;3*hidde_size].&nbsp;Optional:&nbsp;If&nbsp;not&nbsp;specified&nbsp;-</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_148">148</td><td nowrap="nowrap">&nbsp;&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td><td class="diff_next"></td><td class="diff_header" id="to97_147">147</td><td nowrap="nowrap">&nbsp;&nbsp;assumed&nbsp;to&nbsp;be&nbsp;0.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_149">149</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_148">148</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_150">150</td><td nowrap="nowrap">**Outputs**</td><td class="diff_next"></td><td class="diff_header" id="to97_149">149</td><td nowrap="nowrap">**Outputs**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_151">151</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_150">150</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next" id="difflib_chg_to97__6"></td><td class="diff_header" id="from97_152">152</td><td nowrap="nowrap">Between&nbsp;0&nbsp;and&nbsp;3&nbsp;outputs.</td><td class="diff_next"></td><td class="diff_header" id="to97_151">151</td><td nowrap="nowrap">Between&nbsp;0&nbsp;and&nbsp;3&nbsp;outputs.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_153">153</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_152">152</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_154">154</td><td nowrap="nowrap">*&nbsp;**Y**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_153">153</td><td nowrap="nowrap">*&nbsp;**Y**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_155">155</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;tensor&nbsp;that&nbsp;concats&nbsp;all&nbsp;the&nbsp;intermediate&nbsp;output&nbsp;values&nbsp;of&nbsp;the</td><td class="diff_next"></td><td class="diff_header" id="to97_154">154</td><td nowrap="nowrap">&nbsp;&nbsp;A&nbsp;tensor&nbsp;that&nbsp;concats&nbsp;all&nbsp;the&nbsp;intermediate&nbsp;output&nbsp;values&nbsp;of&nbsp;the</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_156">156</td><td nowrap="nowrap">&nbsp;&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[seq_length,&nbsp;num_directions,&nbsp;batch_size,</td><td class="diff_next"></td><td class="diff_header" id="to97_155">155</td><td nowrap="nowrap">&nbsp;&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[seq_length,&nbsp;num_directions,&nbsp;batch_size,</td></tr>
                <tr><td class="diff_next"><a href="#difflib_chg_to97__top">t</a></td><td class="diff_header" id="from97_157">157</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;hidden_size].&nbsp;It&nbsp;is&nbsp;optional&nbsp;if&nbsp;output_sequence&nbsp;is&nbsp;0.</span></td><td class="diff_next"><a href="#difflib_chg_to97__top">t</a></td><td class="diff_header" id="to97_156">156</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;hidden_size].</span></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_158">158</td><td nowrap="nowrap">*&nbsp;**Y_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_157">157</td><td nowrap="nowrap">*&nbsp;**Y_h**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to97_158">158</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;hidden.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_160">160</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_159">159</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_161">161</td><td nowrap="nowrap">*&nbsp;**Y_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td><td class="diff_next"></td><td class="diff_header" id="to97_160">160</td><td nowrap="nowrap">*&nbsp;**Y_c**&nbsp;(optional,&nbsp;heterogeneous)&nbsp;-&nbsp;**T**:</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_162">162</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td><td class="diff_next"></td><td class="diff_header" id="to97_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;The&nbsp;last&nbsp;output&nbsp;value&nbsp;of&nbsp;the&nbsp;cell.&nbsp;It&nbsp;has&nbsp;shape&nbsp;[num_directions,</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_163">163</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td><td class="diff_next"></td><td class="diff_header" id="to97_162">162</td><td nowrap="nowrap">&nbsp;&nbsp;batch_size,&nbsp;hidden_size].</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_164">164</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_163">163</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_165">165</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td><td class="diff_next"></td><td class="diff_header" id="to97_164">164</td><td nowrap="nowrap">**Type&nbsp;Constraints**</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_166">166</td><td nowrap="nowrap"></td><td class="diff_next"></td><td class="diff_header" id="to97_165">165</td><td nowrap="nowrap"></td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_167">167</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to97_166">166</td><td nowrap="nowrap">*&nbsp;**T**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td><td class="diff_next"></td><td class="diff_header" id="to97_167">167</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(double),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_169">169</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td><td class="diff_next"></td><td class="diff_header" id="to97_168">168</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float),</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td><td class="diff_next"></td><td class="diff_header" id="to97_169">169</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(float16)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_171">171</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to97_170">170</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_172">172</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td><td class="diff_next"></td><td class="diff_header" id="to97_171">171</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;input&nbsp;and&nbsp;output&nbsp;types&nbsp;to&nbsp;float&nbsp;tensors.</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_173">173</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td><td class="diff_next"></td><td class="diff_header" id="to97_172">172</td><td nowrap="nowrap">*&nbsp;**T1**&nbsp;in&nbsp;(</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_174">174</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(int32)</td><td class="diff_next"></td><td class="diff_header" id="to97_173">173</td><td nowrap="nowrap">&nbsp;&nbsp;tensor(int32)</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;):</td><td class="diff_next"></td><td class="diff_header" id="to97_174">174</td><td nowrap="nowrap">&nbsp;&nbsp;):</td></tr>
                <tr><td class="diff_next"></td><td class="diff_header" id="from97_176">176</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;seq_lens&nbsp;to&nbsp;integer&nbsp;tensor.</td><td class="diff_next"></td><td class="diff_header" id="to97_175">175</td><td nowrap="nowrap">&nbsp;&nbsp;Constrain&nbsp;seq_lens&nbsp;to&nbsp;integer&nbsp;tensor.</td></tr>
            </tbody>
        </table>

.. _l-onnx-op-lstm-1:

LSTM - 1
========

**Version**

* **name**: `LSTM (GitHub) <https://github.com/onnx/onnx/blob/main/docs/Operators.md#LSTM>`_
* **domain**: **main**
* **since_version**: **1**
* **function**: False
* **support_level**: SupportType.COMMON
* **shape inference**: True

This version of the operator has been available
**since version 1**.

**Summary**

Computes an one-layer LSTM. This operator is usually supported via some
custom implementation such as CuDNN.

Notations:

`X` - input tensor

`i` - input gate

`o` - output gate

`f` - forget gate

`c` - cell gate

`t` - time step (t-1 means previous time step)

`W[iofc]` - W parameter weight matrix for input, output, forget, and cell gates

`R[iofc]` - R recurrence weight matrix for input, output, forget, and cell gates

`Wb[iofc]` - W bias vectors for input, output, forget, and cell gates

`Rb[iofc]` - R bias vectors for input, output, forget, and cell gates

`P[iof]`  - P peephole weight vector for input, output, and forget gates

`WB[iofc]` - W parameter weight matrix for backward input, output, forget, and cell gates

`RB[iofc]` - R recurrence weight matrix for backward input, output, forget, and cell gates

`WBb[iofc]` - W bias vectors for backward input, output, forget, and cell gates

`RBb[iofc]` - R bias vectors for backward input, output, forget, and cell gates

`PB[iof]`  - P peephole weight vector for backward input, output, and forget gates

`H` - Hidden state

`num_directions` - 2 if direction == bidirectional else 1

Activation functions:

  Relu(x)                - max(0, x)

  Tanh(x)                - (1 - e^{-2x})/(1 + e^{-2x})

  Sigmoid(x)             - 1/(1 + e^{-x})

  (NOTE: Below are optional)

  Affine(x)              - alpha*x + beta

  LeakyRelu(x)           - x if x >= 0 else alpha * x

  ThresholdedRelu(x)     - x if x >= alpha else 0

  ScaledTanh(x)          - alpha*Tanh(beta*x)

  HardSigmoid(x)         - min(max(alpha*x + beta, 0), 1)

  Elu(x)                 - x if x >= 0 else alpha*(e^x - 1)

  Softsign(x)            - x/(1 + |x|)

  Softplus(x)            - log(1 + e^x)

Equations (Default: f=Sigmoid, g=Tanh, h=Tanh):

  - it = f(Xt*(Wi^T) + Ht-1*Ri + Pi (.) Ct-1 + Wbi + Rbi)

  - ft = f(Xt*(Wf^T) + Ht-1*Rf + Pf (.) Ct-1 + Wbf + Rbf)

  - ct = g(Xt*(Wc^T) + Ht-1*Rc + Wbc + Rbc)

  - Ct = ft (.) Ct-1 + it (.) ct

  - ot = f(Xt*(Wo^T) + Ht-1*Ro + Po (.) Ct + Wbo + Rbo)

  - Ht = ot (.) h(Ct)

**Attributes**

* **activation_alpha**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.For example with LeakyRelu, the default
  alpha is 0.01.
* **activation_beta**:
  Optional scaling values used by some activation functions. The
  values are consumed in the order of activation functions, for
  example (f, g, h) in LSTM. Default values are the same as of
  corresponding ONNX operators.
* **activations**:
  A list of 3 (or 6 if bidirectional) activation functions for input,
  output, forget, cell, and hidden. The activation functions must be
  one of the activation functions specified above. Optional: See the
  equations for default if not specified.
* **clip**:
  Cell clip threshold. Clipping bounds the elements of a tensor in the
  range of [-threshold, +threshold] and is applied to the input of
  activations. No clip if not specified.
* **direction**:
  Specify if the RNN is forward, reverse, or bidirectional. Must be
  one of forward (default), reverse, or bidirectional.
* **hidden_size**:
  Number of neurons in the hidden layer
* **input_forget**:
  Couple the input and forget gates if 1, default 0.
* **output_sequence**:
  The sequence output for the hidden is optional if 0. Default 0.

**Inputs**

Between 3 and 8 inputs.

* **X** (heterogeneous) - **T**:
  The input sequences packed (and potentially padded) into one 3-D
  tensor with the shape of `[seq_length, batch_size, input_size]`.
* **W** (heterogeneous) - **T**:
  The weight tensor for the gates. Concatenation of `W[iofc]` and
  `WB[iofc]` (if bidirectional) along dimension 0. The tensor has
  shape `[num_directions, 4*hidden_size, input_size]`.
* **R** (heterogeneous) - **T**:
  The recurrence weight tensor. Concatenation of `R[iofc]` and
  `RB[iofc]` (if bidirectional) along dimension 0. This tensor has
  shape `[num_directions, 4*hidden_size, hidden_size]`.
* **B** (optional, heterogeneous) - **T**:
  The bias tensor for input gate. Concatenation of `[Wb[iofc],
  Rb[iofc]]`, and `[WBb[iofc], RBb[iofc]]` (if bidirectional) along
  dimension 0. This tensor has shape `[num_directions,
  8*hidden_size]`. Optional: If not specified - assumed to be 0.
* **sequence_lens** (optional, heterogeneous) - **T1**:
  Optional tensor specifying lengths of the sequences in a batch. If
  not specified - assumed all sequences in the batch to have length
  `seq_length`. It has shape `[batch_size]`.
* **initial_h** (optional, heterogeneous) - **T**:
  Optional initial value of the hidden. If not specified - assumed to
  be 0. It has shape `[num_directions, batch_size, hidden_size]`.
* **initial_c** (optional, heterogeneous) - **T**:
  Optional initial value of the cell. If not specified - assumed to be
  0. It has shape `[num_directions, batch_size, hidden_size]`.
* **P** (optional, heterogeneous) - **T**:
  The weight tensor for peepholes. Concatenation of `P[iof]` and
  `PB[iof]` (if bidirectional) along dimension 0. It has shape
  `[num_directions, 3*hidde_size]`. Optional: If not specified -
  assumed to be 0.

**Outputs**

Between 0 and 3 outputs.

* **Y** (optional, heterogeneous) - **T**:
  A tensor that concats all the intermediate output values of the
  hidden. It has shape `[seq_length, num_directions, batch_size,
  hidden_size]`. It is optional if `output_sequence` is 0.
* **Y_h** (optional, heterogeneous) - **T**:
  The last output value of the hidden. It has shape `[num_directions,
  batch_size, hidden_size]`.
* **Y_c** (optional, heterogeneous) - **T**:
  The last output value of the cell. It has shape `[num_directions,
  batch_size, hidden_size]`.

**Type Constraints**

* **T** in (
  tensor(double),
  tensor(float),
  tensor(float16)
  ):
  Constrain input and output types to float tensors.
* **T1** in (
  tensor(int32)
  ):
  Constrain seq_lens to integer tensor.
