
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Scikit.ML details &#8212; Custom Extensions to ML.net 0.8.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/font-awesome@4.5.0/css/font-awesome.min.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.14.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CSharp API" href="apicsharpdoc.html" />
    <link rel="prev" title="ML.NET 0.8 Release Notes" href="mlnetdocs/releases/release08.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="scikit-ml-details">
<h1>Scikit.ML details<a class="headerlink" href="#scikit-ml-details" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#elements-of-code" id="id3">Elements of code</a><ul>
<li><a class="reference internal" href="#definitions" id="id4">Definitions</a></li>
<li><a class="reference internal" href="#idataview" id="id5">IDataView</a></li>
<li><a class="reference internal" href="#other-interfaces" id="id6">Other interfaces</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subleties" id="id7">Subleties</a><ul>
<li><a class="reference internal" href="#trainable-transform" id="id8">Trainable transform</a></li>
<li><a class="reference internal" href="#dataframe-getters" id="id9">DataFrame Getters</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="elements-of-code">
<h2><a class="toc-backref" href="#id3">Elements of code</a><a class="headerlink" href="#elements-of-code" title="Permalink to this headline">¶</a></h2>
<p>The following concepts are described in details
in section <a class="reference internal" href="machinelearning_docs.html#l-mlnetdoc"><span class="std std-ref">ML.net details</span></a>.</p>
<div class="section" id="definitions">
<h3><a class="toc-backref" href="#id4">Definitions</a><a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>active column</strong>: a transform can replace a column by another or just skip one,
in that case, the older column may remain but will be <em>hidden</em> as opposed to <em>active</em>.</li>
<li><strong>row</strong>: data unit for every data set, every row is usually independent
from the others but not necessarily,
not independant if there is a group column.</li>
<li><strong>cursor</strong>: row iterator on a dataset</li>
<li><strong>getter</strong>: each cursor does not give a pointer on a row (the type of row is
unknown from <a class="reference external" href="https://github.com/dotnet/machinelearning">ML.net</a> ‘s point of view),
but a cursor defines a way to access a specific column through a getter.
A getter is a function which
retrieve the value for a column for the current row.</li>
<li><strong>schema</strong>: a list of typed columns</li>
</ul>
</div>
<div class="section" id="idataview">
<h3><a class="toc-backref" href="#id5">IDataView</a><a class="headerlink" href="#idataview" title="Permalink to this headline">¶</a></h3>
<p>A data view must define a schema
and an access to them through the same API. By default, you should assume rows
of the data are not order and can be accessed through multiple threads at the same time.
<a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.runtime.data.idataview?view=ml-dotnet">IDataView</a> API.</p>
</div>
<div class="section" id="other-interfaces">
<h3><a class="toc-backref" href="#id6">Other interfaces</a><a class="headerlink" href="#other-interfaces" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Core/Data/ICursor.cs">ICursor</a>,
see <a class="reference external" href="https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Core/Data/ICursor.md">ICursor Notes</a></li>
<li><a class="reference external" href="https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Data/Data/IDataLoader.cs#L91">IDataTransform</a></li>
<li><a class="reference external" href="https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Core/Data/IDataView.cs#L154">IRow</a></li>
</ul>
</div>
</div>
<div class="section" id="subleties">
<h2><a class="toc-backref" href="#id7">Subleties</a><a class="headerlink" href="#subleties" title="Permalink to this headline">¶</a></h2>
<div class="section" id="trainable-transform">
<h3><a class="toc-backref" href="#id8">Trainable transform</a><a class="headerlink" href="#trainable-transform" title="Permalink to this headline">¶</a></h3>
<p>The training usually happens when an object is instantiated
in <a class="reference external" href="https://github.com/dotnet/machinelearning">ML.net</a> and the next
step in the pipeline requires this transform to be instantiated.
The transforms in this extension postpones the training step
until some cursors are created:
<a class="reference external" href="https://github.com/xadupre/machinelearningext/blob/master/machinelearningext/FeaturesTransforms/ScalerTransform.cs#L206">GetRowCursor</a>.
Pipeline instanciation happens following the blue arrow (forward).
Computing the prediction requires to get cursor
from every step and it follows the red path (backward).
You can either train a transform on the blue path
(called from the constructor) or on the red path
(called by the cursor instanciation). As the scoring process
may create several cursors working in parallel, the training
must be protected against multithreading.</p>
<img alt="_images/cursor.png" src="_images/cursor.png" />
</div>
<div class="section" id="dataframe-getters">
<span id="index-0"></span><h3><a class="toc-backref" href="#id9">DataFrame Getters</a><a class="headerlink" href="#dataframe-getters" title="Permalink to this headline">¶</a></h3>
<p id="index-1">DataFrames expects to have sortable elements which is not the case
of objects representing strings <code class="docutils literal notranslate"><span class="pre">ReadOnlyMemory&lt;char&gt;</span></code> or
sparse arrays <code class="docutils literal notranslate"><span class="pre">VBuffer&lt;TYPE&gt;</span></code>. <em>Scikit.ML</em> implements a sortable
version for both of them.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">VBuffer&lt;TYPE&gt;</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">VBufferEqSort&lt;TYPE&gt;</span></code>,</li>
<li><code class="docutils literal notranslate"><span class="pre">ReadOnlyMemory&lt;char&gt;</span></code> is replaced by <code class="docutils literal notranslate"><span class="pre">DvText</span></code>.</li>
</ul>
<p>The biggest change comes when a user tries to get a <em>getter</em> available
through interface <code class="docutils literal notranslate"><span class="pre">IDataView</span></code>. The signature is <code class="docutils literal notranslate"><span class="pre">ValueMapper&lt;TYPE&gt;</span> <span class="pre">GetGetter&lt;TYPE&gt;(int</span> <span class="pre">col)</span></code>.
DataFrame implements to let the user choose which ever type
he would like to get. So the following calls do not return a null pointer,
<code class="docutils literal notranslate"><span class="pre">GetGetter&lt;VBuffer&lt;TYPE&gt;&gt;(0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">GetGetter&lt;VBufferEqSort&lt;TYPE&gt;&gt;(0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">GetGetter&lt;ReadOnlyMemory&lt;char&gt;&gt;(0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">GetGetter&lt;DvText&gt;(0)</span></code>
even though <em>DataFrame</em> always use <code class="docutils literal notranslate"><span class="pre">VBufferEqSort&lt;TYPE&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">DvText</span></code>.
Method <code class="docutils literal notranslate"><span class="pre">GetGetter&lt;TYPE&gt;(int</span> <span class="pre">col)</span></code> implements the implicit conversion
requested by the user.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/project_ico.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Custom Extensions to ML.net</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataframe.html">DataFrames in C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="components/index.html">ML.net Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="machinelearning_docs.html">ML.net details</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scikit.ML details</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elements-of-code">Elements of code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subleties">Subleties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apicsharpdoc.html">CSharp API</a></li>
<li class="toctree-l1"><a class="reference internal" href="aonnx.html">ML.net and ONNX</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompatibilities.html">ML.net customization</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="mlnetdocs/releases/release08.html" title="previous chapter">ML.NET 0.8 Release Notes</a></li>
      <li>Next: <a href="apicsharpdoc.html" title="next chapter">CSharp API</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/concepts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>